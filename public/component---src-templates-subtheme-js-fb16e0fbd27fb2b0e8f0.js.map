{"version":3,"sources":["webpack:///./src/templates/subtheme.js","webpack:///./src/assets/images/back.svg"],"names":["queryString","__webpack_require__","Container","styled_components__WEBPACK_IMPORTED_MODULE_9__","b","div","withConfig","displayName","ThemeImage","props","background","ThemesMenu","MenuItem","Object","gatsby__WEBPACK_IMPORTED_MODULE_6__","a","selected","StyledLink","SubThemePage","render","_this$props","this","data","pageContext","location","field_theme_image","theme","allTaxonomyTermSubthemes","taxonomyTermSubthemes","subtheme","themeLinks","edges","map","edge","lodash_kebabCase__WEBPACK_IMPORTED_MODULE_7___default","node","name","queryParams","parse","search","getShortname","parts","split","encodeURIComponent","length","localFile","publicURL","react__WEBPACK_IMPORTED_MODULE_4___default","createElement","to","path","style","height","opacity","display","marginBottom","marginRight","verticalAlign","src","dangerouslySetInnerHTML","__html","description","processed","link","i","key","pathname","_components_subtheme_js__WEBPACK_IMPORTED_MODULE_8__","e","filter","Component","pageQuery","module","exports"],"mappings":"0PAQMA,EAAcC,EAAQ,KAItBC,GAFWD,EAAQ,KAEPE,EAAAC,EAAOC,IAAnBC,YAAAC,YAAA,uBAAYJ,EAAZ,uBAGAK,EAAaL,EAAAC,EAAOC,IAApBC,YAAAC,YAAA,wBAAaJ,EAAb,sKAGgB,SAAAM,GAAA,OAASA,EAAMC,WAAN,OAA2BD,EAAMC,WAAjC,aAQzBC,EAAaR,EAAAC,EAAOC,IAApBC,YAAAC,YAAA,wBAAaJ,EAAb,8GAUAS,EAAWC,OAAAV,EAAAC,EAAAS,CAAOC,EAAAC,GAAlBT,YAAAC,YAAA,sBAAWM,EAAX,sMAMgB,SAAAJ,GAAA,OAASA,EAAMO,SAAN,gBAQzBC,EAAaJ,OAAAV,EAAAC,EAAAS,CAAOC,EAAAC,GAApBT,YAAAC,YAAA,wBAAaM,EAAb,kEAMAK,4FACJC,kBAAS,IAAAC,EAC+BC,KAAKZ,MAApCa,EADAF,EACAE,KAAMC,EADNH,EACMG,YAAaC,EADnBJ,EACmBI,SACnBC,EAA4BF,EAA5BE,kBAAmBC,EAASH,EAATG,MACnBC,EAAmDL,EAAnDK,yBAA0BC,EAAyBN,EAAzBM,sBAC3BC,EAAWD,EAEXE,EAAaH,EAAyBI,MAAMC,IAAK,SAAAC,GAAA,oBAAsBC,IAAUD,EAAKE,KAAKC,QAE3FC,EAAcrC,EAAYsC,MAAMjB,KAAKZ,MAAMe,SAASe,QAEpDC,EAAe,SAAAX,GACnB,IAAMY,EAAQZ,EAASO,KAAOP,EAASO,KAAKM,MAAM,QAClD,OAAOC,mBAAmBT,IAAUO,EAAMA,EAAMG,OAAS,MAGrDlC,EAAae,GAAqBA,EAAkBoB,UAAUC,UAEpE,OACEC,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAACxC,GAAWE,WAAYA,IACxBqC,EAAAhC,EAAAiC,cAAC9C,EAAD,KAEE6C,EAAAhC,EAAAiC,cAAC/B,GAAWgC,GAAIvB,EAAMwB,MAClBH,EAAAhC,EAAAiC,cAAA,OAAKG,OAAQC,OAAQ,GAAIC,QAAQ,GAAKC,QAAQ,eAAgBC,aAAa,EAAGC,YAAY,GAAIC,cAAc,UAAWC,IAAKzD,EAAQ,OACpI8C,EAAAhC,EAAAiC,cAAA,MAAIG,OAAQI,aAAa,EAAGD,QAAQ,eAAgBG,cAAc,WAAY/B,EAAMU,OAGxFW,EAAAhC,EAAAiC,cAAA,UAAKpB,EAAsBQ,MAC3BW,EAAAhC,EAAAiC,cAAA,KACEW,yBAA2BC,OAAQhC,EAAsBiC,YAAcjC,EAAsBiC,YAAYC,UAAtE,WAGrCf,EAAAhC,EAAAiC,cAACrC,EAAD,KAEImB,EAAWE,IAAI,SAAC+B,EAAMC,GAAP,OACbjB,EAAAhC,EAAAiC,cAACpC,GAASqD,IAAA,YAAiBD,EAAKf,GAAIc,EAAM/C,SAAU+C,IAASvC,EAAS0C,cAM1EnB,EAAAhC,EAAAiC,cAACmB,EAAAC,GACC9C,KAAMO,EACNoC,IAAKzB,EAAaX,GAClBO,KAAMI,EAAaX,GACnBwC,OAAQhC,EAAYG,EAAaX,IACjCQ,YAAaA,SA/CrBnB,CAAqB6B,EAAAhC,EAAMuD,uBA0D1B,IAAMC,kCClHbC,EAAAC,QAAA","file":"component---src-templates-subtheme-js-fb16e0fbd27fb2b0e8f0.js","sourcesContent":["import React from \"react\"\nimport Img from 'gatsby-image'\nimport { Link } from 'gatsby'\nimport kebabCase from 'lodash/kebabCase'\nimport SubthemeSection from '../components/subtheme.js'\nimport styled from 'styled-components'\nimport { graphql } from 'gatsby'\n\nconst queryString = require('query-string');\n\nconst FlipMove = require('react-flip-move');\n\nconst Container = styled.div`\n  margin-left: 75px;\n`\nconst ThemeImage = styled.div`\n  height: 100vh;\n  width: 100%;\n  background-image: ${props => props.background ?  `url(${props.background})` : `none`};\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n  position: fixed;\n  z-index: -999999999999999;\n`\n\nconst ThemesMenu = styled.div`\n  position: fixed;\n  top: 0px;\n  left: 200px;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`\n\nconst MenuItem = styled(Link)`\n  cursor: pointer;\n  textDecoration: none;\n  color:inherit;\n  height: 25px;\n  width: 25px;\n  background-color: ${props => props.selected ? `#000` : `#bbb`};\n  border-radius: 50%;\n  display: inline-block;\n  margin-top: 10px;\n  margin-left: 2.5px;\n  box-shadow: 0px 0px 5px #fff;\n`\n\nconst StyledLink = styled(Link)`\n  cursor: pointer;\n  text-decoration: none !important;\n  color:inherit;\n`\n\nclass SubThemePage extends React.Component {\n  render() {\n    const {data, pageContext, location} = this.props;\n    const {field_theme_image, theme} = pageContext;\n    const {allTaxonomyTermSubthemes, taxonomyTermSubthemes} = data;\n    const subtheme = taxonomyTermSubthemes;\n\n    const themeLinks = allTaxonomyTermSubthemes.edges.map( edge => `/subthemes/${kebabCase(edge.node.name)}`);\n\n    const queryParams = queryString.parse(this.props.location.search);\n\n    const getShortname = subtheme => {\n      const parts = subtheme.name ? subtheme.name.split('-') : [];\n      return encodeURIComponent(kebabCase(parts[parts.length - 1]))\n    }\n\n    const background = field_theme_image && field_theme_image.localFile.publicURL;\n      \n    return (\n      <div>\n        <ThemeImage background={background} />\n        <Container>\n\n          <StyledLink to={theme.path}>\n              <img style={{height: 24, opacity:0.8, display:'inline-block', marginBottom:0, marginRight:15, verticalAlign:'middle'}} src={require('../assets/images/back.svg')} />\n              <h4 style={{marginBottom:0, display:'inline-block', verticalAlign:'middle'}}>{theme.name}</h4>\n          </StyledLink>\n\n          <h1>{taxonomyTermSubthemes.name}</h1>\n          <p\n            dangerouslySetInnerHTML={{ __html: taxonomyTermSubthemes.description ? taxonomyTermSubthemes.description.processed : `<br/>`}}\n          />\n\n          <ThemesMenu>\n            {\n              themeLinks.map((link, i) => \n                <MenuItem key={`menuitem-${i}`} to={link} selected={link === location.pathname}/>\n              )\n            }\n          </ThemesMenu>\n\n          {\n            <SubthemeSection\n              data={subtheme}\n              key={getShortname(subtheme)}\n              name={getShortname(subtheme)}\n              filter={queryParams[getShortname(subtheme)]}\n              queryParams={queryParams}\n            />\n          }\n        </Container>\n      </div>\n    )\n  }\n}\n\nexport default SubThemePage\n\nexport const pageQuery = graphql`\n  query subThemeQuery($id: String) {\n    allTaxonomyTermSubthemes {\n      edges {\n        node {\n          id\n          name\n        }\n      }\n    }\n\n    taxonomyTermSubthemes(id: {eq: $id}) {\n      name\n      id\n      description {\n        processed\n      }\n      relationships {\n        articles: backref_field_belongs_to_subtheme_node_article {\n          ...ArticleFragment\n        }\n        clips: backref_field_belongs_to_subtheme_node_clip {\n          ...PosterImageClipFragment\n        }\n        interviews: backref_field_which_subtheme_does_this_b_node_interview {\n          ...InterviewFragment\n        }\n        faqs: backref_field_belongs_to_subtheme_node_faq {\n          ...FAQFragment\n        }\n      }\n    }\n  }\n\n`\n","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA2LjUgMTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDYuNSAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMzQjNCM0I7fQo8L3N0eWxlPgo8dGl0bGU+ZG93bjwvdGl0bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik02LjMsMC45YzAuMi0wLjIsMC4zLTAuNSwwLjEtMC43bDAsMEM2LjIsMCw1LjgtMC4xLDUuNywwLjFsMCwwTDAuMSw1LjZDMCw1LjgsMCw2LjEsMC4xLDYuM2wwLDBsMCwwbDUuNSw1LjUKCWMwLjIsMC4yLDAuNSwwLjIsMC43LDBsMCwwYzAuMi0wLjIsMC4yLTAuNSwwLTAuN2wwLDBsLTUuMi01TDYuMywwLjl6Ii8+Cjwvc3ZnPgo=\""],"sourceRoot":""}