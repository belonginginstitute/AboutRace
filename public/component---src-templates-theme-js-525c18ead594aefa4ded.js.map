{"version":3,"sources":["webpack:///./src/templates/theme.js","webpack:///./src/assets/images/back.svg"],"names":["queryString","__webpack_require__","ThemeTitle","styled_components__WEBPACK_IMPORTED_MODULE_10__","b","div","withConfig","displayName","ThemeDescription","ThemeHeader","props","background","ThemeIntro","ThemeMain","ThemesMenu","MenuItem","Object","gatsby__WEBPACK_IMPORTED_MODULE_7__","a","selected","AllThemesLink","Row","Col","CardLink","Card","CardTitle","ChevronButton","ThemePage","render","_this$props","this","data","location","theme","taxonomyTermThemes","themeLinks","allTaxonomyTermThemes","edges","map","edge","lodash_kebabCase__WEBPACK_IMPORTED_MODULE_8___default","node","name","getShortname","parse","search","subtheme","parts","split","encodeURIComponent","length","sorted","relationships","subthemes","sort","nameA","nameB","react__WEBPACK_IMPORTED_MODULE_5___default","createElement","field_theme_image","localFile","publicURL","link","i","key","to","pathname","style","height","opacity","display","marginBottom","marginRight","verticalAlign","src","description","dangerouslySetInnerHTML","__html","processed","result","flex","transform","t","Component","pageQuery","module","exports"],"mappings":"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","file":"component---src-templates-theme-js-525c18ead594aefa4ded.js","sourcesContent":["import React from \"react\"\nimport Img from 'gatsby-image'\nimport { Link } from 'gatsby'\nimport kebabCase from 'lodash/kebabCase'\nimport SubthemeSection from '../components/subtheme.js'\nimport styled from 'styled-components'\nimport { graphql } from 'gatsby'\n\nconst queryString = require('query-string');\nconst FlipMove = require('react-flip-move');\n\nconst ThemeTitle = styled.div`\n  margin-top: 15px;\n  margin-bottom:15px;\n  color: inherit;\n  font-family: \"lato\";\n  font-weight: 800;\n  text-rendering: optimizeLegibility;\n  font-size: 54px;\n  line-height: 1\n  letter-spacing: 0.04em;\n  // color:white;\n`\nconst ThemeDescription = styled.div`\n  font-weight: 400;\n  font-size: 18px;\n  line-height: 1.5;\n  letter-spacing: 0.02em;\n  position:relative;\n  max-width: 800px;\n  margin: 0 auto;\n  font-family: 'Lato';\n`\nconst ThemeHeader = styled.div`\n  height: 100vh;\n  // opacity: 0.8;\n  background-image: ${props => props.background ?  `url(${props.background})` : `none`};\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n  background-color: lightgrey;\n  position: fixed;\n  top: 0;\n  left: 00px;\n  right: 0;\n  z-index: -999;\n`\nconst HeaderDimmer = styled.div`\n  width: 100%;\n  position: absolute;\n  left:0;\n  right:0;\n  top:0;\n  z-index: 99999999;\n  height:210px;\n  mix-blend-mode: multiply;\n  /* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#000000+16,fcfcfc+100&0.93+16,0+100 */\n  background: -moz-linear-gradient(top, rgba(0,0,0,0.93) 16%, rgba(252,252,252,0) 100%); /* FF3.6-15 */\n  background: -webkit-linear-gradient(top, rgba(0,0,0,0.93) 16%,rgba(252,252,252,0) 100%); /* Chrome10-25,Safari5.1-6 */\n  background: linear-gradient(to bottom, rgba(0,0,0,0.93) 16%,rgba(252,252,252,0) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ed000000', endColorstr='#00fcfcfc',GradientType=0 ); /* IE6-9 */\n`\nconst Dimmer = styled.div`\n  width: 100%;\n  position: absolute;\n  left:0;\n  right:0;\n  bottom:0;\n  height:41vh;\n  mix-blend-mode: multiply;\n  /* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#000000+0,000000+61&0+0,0.93+69 */\n  background: -moz-linear-gradient(top, rgba(0,0,0,0) 0%, rgba(0,0,0,0.82) 61%, rgba(0,0,0,0.93) 69%); /* FF3.6-15 */\n  background: -webkit-linear-gradient(top, rgba(0,0,0,0) 0%,rgba(0,0,0,0.82) 61%,rgba(0,0,0,0.93) 69%); /* Chrome10-25,Safari5.1-6 */\n  background: linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0.82) 61%,rgba(0,0,0,0.93) 69%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#00000000', endColorstr='#ed000000',GradientType=0 ); /* IE6-9 */\n`\n\nconst ThemeIntro = styled.div`\n  background-color: rgba(255,255,255,0.92);\n  padding: 45px 75px;\n  margin-left: 60px;\n  min-height: 100vh;\n  width: 800px;\n`\nconst ThemeMain = styled.div`\n  position: absolute;\n  width:100%;\n`\n\nconst ThemesMenu = styled.div`\n  position: fixed;\n  top: 0px;\n  left: 15px;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`\n\nconst MenuItem = styled(Link)`\n  cursor: pointer;\n  textDecoration: none;\n  color:inherit;\n  height: 18px;\n  width: 18px;\n  background-color: ${props => props.selected ? `#4b5256` : `#adc6d2`};\n  border-radius: 50%;\n  display: inline-block;\n  margin-bottom: 15px;\n  margin-left: 2.5px;\n`\n\nconst AllThemesLink = styled(Link)`\n  cursor: pointer;\n  text-decoration: none !important;\n  color:inherit;\n`\n\nconst Row = styled.div`\n  display: flex;\n  flex-direction: row;\n`\n\nconst Col = styled.div`\n  display: flex;\n  flex-direction: column;\n`\nconst CardLink = styled(Link)`\n  cursor: pointer;\n  text-decoration: none !important;\n  color:inherit;\n  width: 100%;\n`\n\nconst Card = styled.div`\n  border-radius: 12px;\n  background-color: white;\n  padding: 30px;\n  margin-bottom: 30px;\n`\n\nconst CardTitle = styled.div`\n  font-family: 'Lato';\n  font-size: 24px;\n  margin-bottom: 15px;\n  text-transform: capitalize;\n  line-height: 1.25;\n`\n\nconst ChevronButton = styled.div`\n  height: 100%;\n  margin-left: 30px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`\n\nclass ThemePage extends React.Component {\n  render() {\n    const {data, location} = this.props;\n    const {taxonomyTermThemes, allTaxonomyTermThemes} = data;\n    const theme = taxonomyTermThemes;\n\n    const themeLinks = allTaxonomyTermThemes.edges.map( edge => `/themes/${kebabCase(edge.node.name)}`);\n\n    const queryParams = queryString.parse(this.props.location.search);\n\n    const getShortname = subtheme => {\n      const parts = subtheme.name.split('-');\n      return encodeURIComponent(kebabCase(parts[parts.length - 1]))\n    }\n\n    const getDescription = subtheme => {\n      let result = '<br/>';\n      if(subtheme.description)\n        if(subtheme.description.processed)\n          result = subtheme.description.processed;\n\n      return result;\n    }\n\n    const getLink = subtheme => {\n      let result = `/subthemes/${kebabCase(subtheme.name)}`\n\n      return result;\n    }\n\n    const sorted = theme.relationships.subthemes.sort((a, b) => {\n      var nameA = getShortname(a);\n      var nameB = getShortname(b);\n      if (nameA < nameB) return -1;\n      if (nameA > nameB) return 1;\n      return 0;\n    });\n\n    return (\n      <div>\n       \n        <ThemeHeader background={theme.relationships.field_theme_image && theme.relationships.field_theme_image.localFile.publicURL}>\n           &nbsp;\n        </ThemeHeader>\n        <ThemeMain>\n\n          <ThemesMenu>\n            {\n              themeLinks.map((link, i) => \n                <MenuItem key={`menuitem-${i}`} to={link} selected={link === location.pathname}/>\n              )\n            }\n          </ThemesMenu>\n\n          <ThemeIntro>\n            <AllThemesLink to='/themes'>\n              {/* <Huge>‹</Huge> */}\n              <img style={{height: 24, opacity:0.8, display:'inline-block', marginBottom:0, marginRight:15, verticalAlign:'middle'}} src={require('../assets/images/back.svg')} />\n              <h4 style={{marginBottom:0, display:'inline-block', verticalAlign:'middle'}}>All Themes</h4>\n            </AllThemesLink>\n            <ThemeTitle>{theme.name}</ThemeTitle>\n            {\n              theme.description\n              ?\n              <ThemeDescription\n                dangerouslySetInnerHTML={{ __html: theme.description.processed }}\n              />\n              :\n              null\n            }\n\n            {\n              sorted.map((subtheme, i) => \n                <CardLink key={`subtheme-${i}`} to={getLink(subtheme)}>\n                  <Card>\n                    <Row>\n                      <Col style={{flex:1}}>\n                        <CardTitle>{getShortname(subtheme)}</CardTitle>\n                        <div\n                          dangerouslySetInnerHTML={{ __html: getDescription(subtheme) }}\n                        />\n                      </Col>\n                      <Col>\n                        <ChevronButton><img style={{height: 24, opacity:0.8, display:'inline-block', marginBottom:0, marginRight:15, transform: 'rotate(180deg)', verticalAlign:'middle'}} src={require('../assets/images/back.svg')} /></ChevronButton>\n                      </Col>\n                    </Row>\n                  </Card>\n                </CardLink>\n              )\n            }\n          </ThemeIntro>\n\n          {/*\n            sorted.map(subtheme => (\n                <SubthemeSection\n                  data={subtheme}\n                  key={getShortname(subtheme)}\n                  name={getShortname(subtheme)}\n                  filter={queryParams[getShortname(subtheme)]}\n                  queryParams={queryParams}\n                />\n              ))\n          */}\n        </ThemeMain>\n\n        <br />\n      </div>\n    )\n  }\n}\n\nexport default ThemePage\n\nexport const pageQuery = graphql`\n  query themeQuery($id: String) {\n    allTaxonomyTermThemes {\n      edges {\n        node {\n          id\n          name\n        }\n      }\n    }\n    taxonomyTermThemes(id: { eq: $id }) {\n      id\n      name\n      description {\n        processed\n      }\n      relationships {\n        field_theme_image {\n          localFile {\n            publicURL\n            childImageSharp {\n              sizes(maxWidth: 960, quality: 90) {\n                ...GatsbyImageSharpSizes\n              }\n            }\n          }\n        }\n\n        subthemes: backref_field_belongs_to_theme {\n          name\n          id\n          description {\n            processed\n          }\n          relationships {\n            articles: backref_field_belongs_to_subtheme_node_article {\n              ...ArticleFragment\n            }\n            clips: backref_field_belongs_to_subtheme_node_clip {\n              ...PosterImageClipFragment\n            }\n            interviews: backref_field_which_subtheme_does_this_b_node_interview {\n              ...InterviewFragment\n            }\n            faqs: backref_field_belongs_to_subtheme_node_faq {\n              ...FAQFragment\n            }\n          }\n        }\n      }\n    }\n  }\n`\n","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA2LjUgMTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDYuNSAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMzQjNCM0I7fQo8L3N0eWxlPgo8dGl0bGU+ZG93bjwvdGl0bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik02LjMsMC45YzAuMi0wLjIsMC4zLTAuNSwwLjEtMC43bDAsMEM2LjIsMCw1LjgtMC4xLDUuNywwLjFsMCwwTDAuMSw1LjZDMCw1LjgsMCw2LjEsMC4xLDYuM2wwLDBsMCwwbDUuNSw1LjUKCWMwLjIsMC4yLDAuNSwwLjIsMC43LDBsMCwwYzAuMi0wLjIsMC4yLTAuNSwwLTAuN2wwLDBsLTUuMi01TDYuMywwLjl6Ii8+Cjwvc3ZnPgo=\""],"sourceRoot":""}