{"version":3,"sources":["webpack:///./src/pages/teaching.js","webpack:///./node_modules/strict-uri-encode/index.js","webpack:///./node_modules/query-string/index.js"],"names":["queryString","__webpack_require__","Wrapper","styled_components__WEBPACK_IMPORTED_MODULE_3__","b","div","withConfig","displayName","IntroText","SubTitle","h4","closeHandler","Object","gatsby__WEBPACK_IMPORTED_MODULE_4__","push","CloseButton","__webpack_exports__","default","_ref","data","location","queryParams","parse","search","lesson","lessonData","allNodeLessonPlan","edges","filter","edge","node","id","react__WEBPACK_IMPORTED_MODULE_2___default","a","createElement","_components_overlay__WEBPACK_IMPORTED_MODULE_6__","visible","c","onClick","title","dangerouslySetInnerHTML","__html","field_lesson_plan","processed","className","style","padding","map","i","key","field_subjects","field_grade_levels","field_lesson_summary","field_objectives","to","stringify","assign","_components_subtheme__WEBPACK_IMPORTED_MODULE_7__","f","articles","allNodeArticle","interviews","allNodeInterview","query","module","exports","str","encodeURIComponent","replace","charCodeAt","toString","toUpperCase","strictUriEncode","objectAssign","encode","value","opts","strict","extract","split","formatter","result","arrayFormat","accumulator","exec","concat","ret","create","trim","forEach","param","parts","shift","val","length","join","decodeURIComponent","keys","sort","reduce","Boolean","Array","isArray","keysSorter","input","Number","obj","index","slice","val2","x"],"mappings":"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","file":"component---src-pages-teaching-js-4ae3892336d6ed95c4fd.js","sourcesContent":["import React from 'react'\nimport styled from 'styled-components'\nimport { Link, push} from 'gatsby'\nimport kebabCase from 'lodash/kebabCase'\nimport { Overlay, OverlayHeader, OverlayBody }  from '../components/overlay'\nimport {\n  getCards,\n} from '../components/subtheme'\nimport { graphql } from 'gatsby'\n\nconst queryString = require('query-string');\n\nconst Wrapper = styled.div`\n  margin: 250px auto 0px;\n  max-width: 100%;\n`\n\nconst IntroText = styled.div`\n  font-weight: 300;\n  font-size: 48px;\n  line-height: 1.25;\n  z-index:99999;\n  margin: 60px 45px;\n  font-family: 'Lato';\n`\n\nconst SubTitle = styled.h4`\n  margin-bottom: 15px;\n`\n\nconst closeHandler = () => push(`?`)\n\nconst CloseButton = styled.div`\n  float: right;\n  color: red;\n  cursor: pointer;\n  font-weight: bold;\n`\n\nexport default ({ data, location }) => {\n\n  const queryParams = queryString.parse(location.search)\n  const { lesson } = queryParams;\n  const lessonData = !lesson ? null : (data.allNodeLessonPlan.edges.filter( edge => edge.node.id === lesson)[0]).node\n\n  return (\n    <Wrapper>\n      <Overlay id=\"film-overlay\" visible={!!lesson}>\n        { \n          lessonData && \n          <OverlayBody>\n            <OverlayHeader>\n              <CloseButton onClick={closeHandler}>Close</CloseButton>\n              <div>{lessonData.title}</div>\n            </OverlayHeader>\n            <div\n              dangerouslySetInnerHTML={{\n                __html: lessonData.field_lesson_plan.processed,\n              }}\n            />\n          </OverlayBody>\n        }\n      </Overlay>\n      <IntroText>\n        Teach topics from the film with specially curated lesson plans, handouts, articles, and interviews.\n      </IntroText>\n\n      <h2>Lesson Plans</h2>\n      <div className=\"row\" style={{padding: '0 30px'}}>\n      {\n        data.allNodeLessonPlan.edges.map((edge, i) => (\n          <div className=\"articleCard\" style={{padding:30}} key={`teaching-${i}`}>\n            <h2>{edge.node.title}</h2>\n            <div>\n              <SubTitle>Subjects:</SubTitle>\n              <p dangerouslySetInnerHTML={{ __html: edge.node.field_subjects && edge.node.field_subjects.processed }} />\n            </div>\n            <div>\n              <SubTitle>Grade Levels:</SubTitle>\n              <p dangerouslySetInnerHTML={{ __html: edge.node.field_grade_levels && edge.node.field_grade_levels.processed }} />\n            </div>\n            <div>\n              <SubTitle>Overview:</SubTitle>\n              <p dangerouslySetInnerHTML={{ __html: edge.node.field_lesson_summary && edge.node.field_lesson_summary.processed }} />\n            </div>\n            <div>\n              <SubTitle>Objectives:</SubTitle>\n              <p dangerouslySetInnerHTML={{ __html: edge.node.field_objectives && edge.node.field_objectives.processed }} />\n            </div>\n            <Link to={`?${queryString.stringify({ ...queryParams, lesson: edge.node.id })}`}>\n              <button>\n                View lesson plan\n              </button>\n            </Link>\n          </div>\n        ))\n      }\n      </div>\n      <h2>Articles</h2>\n      {\n        getCards({\n          articles: data.allNodeArticle.edges.map(edge => edge.node),\n        })\n      }\n\n      <h2>Interviews</h2>\n      {\n        getCards({\n          interviews: data.allNodeInterview.edges.map(edge => edge.node),\n        })\n      }\n   </Wrapper>\n  )\n}\n\nexport const query = graphql`\n  query TeachingQuery {\n    allNodeLessonPlan {\n      edges {\n        node {\n          id\n          title\n          field_activity{\n            processed\n          }\n          field_overview {\n            processed\n          }\n          field_subjects {\n            processed\n          }\n          field_objectives {\n            processed\n          }\n          field_copyright_a {\n            processed\n          }\n          field_description {\n            processed\n          }\n          field_lesson_plan {\n            processed\n          }\n          field_grade_levels {\n            processed\n          }\n          field_lesson_summary {\n            processed\n          }\n          field_time_allotment {\n            processed\n          }\n          field_lesson_plan_author {\n            processed\n          }\n          field_less_plan_author_bio {\n            processed\n          }\n        }\n      }\n    }\n    allNodeArticle(filter: { field_include_in_the_teaching_se: { eq: true }}) {\n      edges {\n        node {\n          ... ArticleFragment\n        }\n      }\n    }\n    allNodeInterview(filter: { field_include: { eq: true }}) {\n      edges {\n        node {\n          ... InterviewFragment\n        }\n      }\n    }\n  }\n`\n","'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n","'use strict';\nvar strictUriEncode = require('strict-uri-encode');\nvar objectAssign = require('object-assign');\n\nfunction encoderForArrayFormat(opts) {\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, index) {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, opts),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(opts) {\n\tvar result;\n\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t} else if (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input)).sort(function (a, b) {\n\t\t\treturn Number(a) - Number(b);\n\t\t}).map(function (key) {\n\t\t\treturn input[key];\n\t\t});\n\t}\n\n\treturn input;\n}\n\nexports.extract = function (str) {\n\treturn str.split('?')[1] || '';\n};\n\nexports.parse = function (str, opts) {\n\topts = objectAssign({arrayFormat: 'none'}, opts);\n\n\tvar formatter = parserForArrayFormat(opts);\n\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^(\\?|#|&)/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\tformatter(decodeURIComponent(key), val, ret);\n\t});\n\n\treturn Object.keys(ret).sort().reduce(function (result, key) {\n\t\tvar val = ret[key];\n\t\tif (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(val);\n\t\t} else {\n\t\t\tresult[key] = val;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n};\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\tvar formatter = encoderForArrayFormat(opts);\n\n\treturn obj ? Object.keys(obj).sort().map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, val2, result.length));\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n"],"sourceRoot":""}