{"version":3,"sources":["webpack:///./src/pages/clips.js","webpack:///./node_modules/core-js/modules/es6.string.link.js","webpack:///./node_modules/core-js/modules/_string-html.js","webpack:///./src/components/allClips.js"],"names":["queryString","__webpack_require__","ClipsIntro","styled_components__WEBPACK_IMPORTED_MODULE_4__","b","div","withConfig","displayName","Clips","props","_this","_Component","call","this","onSelected","selected","queryParams","parse","window","location","search","episode","stringify","Object","assign","setState","state","componentDidMount","render","_this$props","data","react__WEBPACK_IMPORTED_MODULE_3___default","a","createElement","_components_layout__WEBPACK_IMPORTED_MODULE_9__","className","_components_Filter__WEBPACK_IMPORTED_MODULE_8__","_components_allClips_js__WEBPACK_IMPORTED_MODULE_7__","react__WEBPACK_IMPORTED_MODULE_3__","Component","__webpack_exports__","default","f","query","createHTML","url","$export","fails","defined","quot","string","tag","attribute","value","S","String","p1","replace","module","exports","NAME","exec","O","P","F","test","toLowerCase","split","length","ClipCard","styled_components__WEBPACK_IMPORTED_MODULE_2__","ClipCaption","ClipPoster","background","Clip","_ref","clip","link","react__WEBPACK_IMPORTED_MODULE_1___default","gatsby__WEBPACK_IMPORTED_MODULE_3__","style","color","textDecoration","to","lodash_kebabCase__WEBPACK_IMPORTED_MODULE_4___default","title","relationships","field_poster_image","localFile","publicURL","src","field_external_video_url","uri","frameborder","webkitallowfullscreen","mozallowfullscreen","allowfullscreen","_ref2","array","allNodeClip","edges","filter","el","node","field_episode","parseInt","padding","map","edge","i","key"],"mappings":"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","file":"component---src-pages-clips-js-2f7373064aa2e86c2a9d.js","sourcesContent":["import React, { Component } from 'react'\nimport styled from 'styled-components'\nimport { Link, graphql } from 'gatsby'\nimport kebabCase from 'lodash/kebabCase'\nimport AllClips from '../components/allClips.js'\nimport Filter from '../components/Filter'\nimport Layout from \"../components/layout\"\n\nconst queryString = require('query-string');\n\nconst ClipsIntro = styled.div\n`\n\tfont-size:24px;\n\tmargin-bottom:60px;\n\tline-height:1.5;\n`\n\nclass Clips extends Component {\n\tconstructor(props) {\n\t  super(props);\n\t\tconst selected = 'all'\n\n\t  this.state = {\n\t  \tselected\n\t  };\n\t}\n\n\tonSelected = selected => {\n\t\tlet queryParams = queryString.parse(window.location.search)\n\t\tqueryParams.episode = selected;\n\t\tconst search = `?` + queryString.stringify({ ...queryParams});\n\n\t\t// uncomment if you want to have url changed\n\t\t// history.pushState({}, window.document.title, search)\n\n\t\tthis.setState({selected})\n\t}\n\n\tcomponentDidMount() {\n\t\tconst queryParams = queryString.parse(window.location.search)\n\t\tconst { episode } = queryParams;\n\t\tconst selected = episode ? episode : 'all';\n\n\t\tthis.setState({selected})\n\t}\n\n\trender() {\n\t\tconst { selected } = this.state;\n\t\tconst { data, location } = this.props;\n\n\t\treturn (\n\t\t\t<Layout location={location}>\n\t\t\t\t<div className='darkwrapper'>\n\t\t\t\t\t<Filter selected={selected} onSelected={this.onSelected}/>\n\t\t\t\t\t<ClipsIntro>\n\t\t\t\t\t\tVarious clips from the film featured here. Buy a copy of the film here.\n\t\t\t\t\t</ClipsIntro>\n\t\t\t\t\t<AllClips data={data} selected={selected}/>\n\t\t\t\t</div>\n\t\t\t</Layout>\n\t\t)\n\t}\n}\n\nexport default Clips;\n\nexport const query = graphql`\n  query ClipsQuery {\n    allNodeClip {\n\t\t  edges {\n\t\t    node {\n\t\t      field_episode\n\t\t      title\n\t\t    \tfield_title_of_clip {\n\t\t        processed\n\t\t      }\n\t\t       relationships {\n\t\t        field_poster_image {\n\t\t          localFile {\n\t\t            publicURL\n\t\t          }\n\t\t        }\n\t\t      }\n\t\t    }\n\t\t  }\n\t\t}\n  }\n`\n\n","'use strict';\n// B.2.3.10 String.prototype.link(url)\nrequire('./_string-html')('link', function (createHTML) {\n  return function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  };\n});\n","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Link } from 'gatsby'\nimport kebabCase from 'lodash/kebabCase'\n\nconst ClipCard = styled.div`\n\twidth: 300px;\n\tbackground-color:#292929;\n\tcolor: white;\n\tdisplay:inline-block;\n\tvertical-align: top;\n\tmargin-right:30px;\n\tmargin-bottom: 30px;\n\ttransition: all .3s;\n\tborder-radius: 6px;\n\t&:hover {\n\t  transition: all .3s;\n\t}\n\tcursor: pointer;\n`\nconst ClipCaption = styled.div`\n\tfont-family: 'Lato';\n\tfont-size: 14px;\n\tline-height: 1.5;\n\tfont-weight: 300;\n\tletter-spacing: 0.04em;\n\tpadding: 15px 30px 30px 30px;\n`\nconst ClipPoster = styled.div`\n\theight:200px;\n\twidth:100%;\n\tbackground-color:red;\n\tbackground-size:cover;\n\tbackground-position: center;\n  background-image: ${props => props.background ?  `url(${props.background})` : `none`};\n`\n\nexport const Clip = ({ clip, link }) =>  {\n\treturn (\n\t\t\t<ClipCard>\n\t\t\t\t{\n\t\t\t\t\tlink ?\n\t\t\t\t\t\t<Link style={{color:'inherit', textDecoration:'none'}} to={`/clips/${kebabCase(clip.title)}`}>\n\t\t\t\t\t\t\t<ClipPoster background={clip.relationships.field_poster_image && clip.relationships.field_poster_image.localFile.publicURL} />\n\t\t\t\t\t\t\t<ClipCaption>\n\t\t\t\t\t\t\t\t{clip.title}\n\t\t\t\t\t\t\t</ClipCaption>\n\t\t\t\t\t\t</Link> :\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<iframe title={clip.title} src={`${clip.field_external_video_url && clip.field_external_video_url.uri}?title=0&byline=0&portrait=0`} frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\n\t\t\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t</ClipCard>\n\t\t)\n}\n\n\nconst AllClips = ({ data, selected }) => {\n\tlet array = data.allNodeClip.edges\n\n\tif(selected)\n\t\tarray = array.filter( el => selected === 'all' ? true : el.node.field_episode === parseInt(selected) )\n\t\n\treturn (\n\t  <div style={{padding: '0 30px'}}>\n\t    {\n\t    \tarray.map((edge, i) =>\n\t\t      <Clip key={`clip-${i}`} clip={edge.node} link={true} />\n\t\t    )\n\t\t  }\n\t  </div>\n\t)\n}\n\nexport default AllClips\n\n"],"sourceRoot":""}