{"version":3,"sources":["webpack:///./src/templates/article.js","webpack:///./src/components/allClips.js","webpack:///./node_modules/query-string/index.js","webpack:///./node_modules/strict-uri-encode/index.js","webpack:///./node_modules/decode-uri-component/index.js","webpack:///./src/components/Title.js","webpack:///./src/components/ThemeCard/SubThemeCard.js","webpack:///./src/components/ThemeCard/index.js","webpack:///./src/components/rccard.js","webpack:///./src/components/Filter.js","webpack:///./src/components/subtheme.js","webpack:///./src/assets/images/back.svg","webpack:///./node_modules/core-js/modules/es6.object.keys.js","webpack:///./node_modules/core-js/modules/_object-sap.js"],"names":["queryString","__webpack_require__","LargeCalloutText","styled_components__WEBPACK_IMPORTED_MODULE_8__","b","div","withConfig","displayName","ArticleBackground","ArticleHeader","props","background","ArticleMain","ArticleTitle","TopText","QuickFactOverlay","render","_this$props","this","quickFact","transition","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","_components_overlay__WEBPACK_IMPORTED_MODULE_10__","key","id","visible","quickClipLinks","articles","clips","faqs","quickFacts","relationships","field_related_content","forEach","item","__typename","push","style","c","onClick","closeHandler","float","color","cursor","width","marginTop","src","title","dangerouslySetInnerHTML","__html","field_quickfact","processed","display","Object","_components_subtheme__WEBPACK_IMPORTED_MODULE_9__","e","slice","t","Component","TagOverlay","_this$props2","tag","_this$props2$queryPar","queryParams","backref_field_tags_node_article","backref_field_tag_node_faq","backref_field_t_node_clip","wide","textAlign","d","name","flexWrap","BreadcrumbLink","gatsby__WEBPACK_IMPORTED_MODULE_12__","Breadcrumbs","_ref","links","titles","map","url","lodash_kebabCase__WEBPACK_IMPORTED_MODULE_11___default","Container","_ref2","index","to","length","SingleArticle","_this","_React$Component3","call","state","_this2","_this$props3","data","parse","location","search","quickfact","nodeArticle","field_article_related_content","filter","node","themesObject","field_belongs_to_subtheme","_ref3","field_belongs_to_theme","_ref4","themes","keys","field_tags","field_main_image","localFile","publicURL","allImageSharp","edges","_ref5","original","resolutions","toLowerCase","position","height","opacity","marginBottom","marginRight","verticalAlign","backgroundColor","zIndex","marginLeft","boxShadow","className","fontSize","fontWeight","lineHeight","field_large_callout_text","field_full_version","letterSpacing","fontFamily","field_old_article_discl","paddingTop","field_author","border","overflow","borderRadius","field_author_image","maxWidth","margin","field_author_bio","stringify","assign","setState","teaching","field_include_in_the_teaching_se","i","newQueryParams","link","padding","article","relatedContent","faq","clip","playable","__webpack_exports__","default","E","pageQuery","ClipCard","styled_components__WEBPACK_IMPORTED_MODULE_2__","ClipCaption","ClipPoster","Clip","react__WEBPACK_IMPORTED_MODULE_1___default","gatsby__WEBPACK_IMPORTED_MODULE_3__","textDecoration","lodash_kebabCase__WEBPACK_IMPORTED_MODULE_4___default","field_poster_image","field_external_video_url","uri","frameborder","webkitallowfullscreen","mozallowfullscreen","allowfullscreen","selected","array","allNodeClip","el","field_episode","parseInt","edge","238","n","strictUriEncode","decodeComponent","encode","value","options","strict","encodeURIComponent","decode","extract","input","queryStart","indexOf","formatter","result","arrayFormat","accumulator","exec","replace","concat","ret","create","trim","param","split","sort","reduce","Boolean","Array","isArray","keysSorter","Number","exports","obj","join","value2","x","parseUrl","query","module","str","charCodeAt","toString","toUpperCase","singleMatcher","RegExp","multiMatcher","decodeComponents","components","decodeURIComponent","err","left","right","prototype","tokens","match","encodedURI","TypeError","replaceMap","%FE%FF","%FF%FE","entries","Title","styled_components_browser_esm","o","s","p","u","Link","SubThemeCard_Title","Description","ThemeCard_SubThemeCard","description","kebabCase_default","react_default","gradient","ThemeCard_Container","backgrounGrayscale","open","ThemeCard_Title","ThemeCard_Description","Chevron","SubThemes","components_ThemeCard","ThemeCard","_React$Component","field_theme_image","childImageSharp","grayscale","window","Image","subthemes","rccard_RCCard","gatsby_browser_entry","slug","type","backgroundImage","imgSrc","backgroundSize","backgroundPosition","children","rccard","FLEX","BASE_CARD_WIDTH","Row","Element","Filter_Title","components_Filter","onSelected","react","F","r","l","k","C","L","I","M","269","N","m","f","g","range","SubthemeTitle","styled_components__WEBPACK_IMPORTED_MODULE_12__","NUM_CARDS_TO_SHOW","defaultToEmpty","arr","shuffle","temporaryValue","randomIndex","currentIndex","Math","floor","random","Poster","PlayablePoster","play","react__WEBPACK_IMPORTED_MODULE_11___default","linkable","gatsby__WEBPACK_IMPORTED_MODULE_13__","lodash_kebabCase__WEBPACK_IMPORTED_MODULE_15___default","alt","ArticleCard","_React$Component2","apply","arguments","_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_9___default","_this$props$style","onOpen","___WEBPACK_IMPORTED_MODULE_14__","h","changed","field_short_version","_this$props2$clip","_this$props2$style","paddingLeft","paddingRight","paddingBottom","FAQCard","_React$Component4","_this$props3$faq","_this$props3$style","flexDirection","justifyContent","InterviewCard","_React$Component5","_this$props4","_this$props4$intervie","interview","_this$props4$style","field_interviewee","fontStyle","field_key_quote","QuickFactCard","_React$Component6","_this$props5","_this$props5$style","rest","_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_7___default","getCards","queryFilter","linkableClip","interviews","quickfacts","DISPLAY_NAMES_TO_SLUG","Map","FilterButtonStyle","FilterButtonStyleActive","borderBottom","Filters","subtheme","toggleFilter","mixBlendMode","textTransform","from","itemType","itemTag","filterType","filterSlug","get","PopupCard","CloseButton","TopImage","SubthemeSection","_this3","_React$Component7","getShuffle","storedOrder","localStorage","getItem","JSON","setItem","close","popup","card","updateOrder","numCards","bind","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default","shouldComponentUpdate","nextProps","nextState","componentWillUpdate","order","newArr","_this$state","rawCards","allCards","278","394","toObject","$keys","it","$export","core","fails","KEY","fn","exp","S"],"mappings":"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","file":"component---src-templates-article-js-7c75423ec281a95ba8ee.js","sourcesContent":["import React from \"react\"\nimport styled, { css } from 'styled-components'\nimport {\n  getCards,\n  QuickFactCard,\n  FAQCard,\n  ClipCard,\n  ArticleCard\n} from '../components/subtheme'\nimport { Overlay, OverlayHeader, OverlayTitle, OverlayFilter, OverlayBody }  from '../components/overlay'\nimport kebabCase from 'lodash/kebabCase'\nimport { Link, push } from 'gatsby'\nimport { graphql } from 'gatsby'\n\nconst queryString = require('query-string');\n\nconst LargeCalloutText = styled.div`\n\n`\n\nconst ArticleBackground = styled.div`\n  // background-color: rgba(239, 255, 248, 0.92);\n  // background-color:#d3e6de;\n  // background-color: rgba(103, 165, 195, 0.14901960784313725);\n  position: fixed;\n  top:0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: -9999;\n`\n\nconst ArticleHeader = styled.div`\n  width: 100%;\n  height: 88vh;\n  background-image: ${props =>\n    props.background ? `url(${props.background})` : `none`};\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n  // border: solid 4px black;\n  background-color: lightgrey;\n  position: fixed;\n  left:0px;\n  top:0px;\n  z-index: -999;\n`\nconst ArticleMain = styled.div`\n  // background-color: rgba(255, 255, 255, 0.8);\n  background-color: white;\n  padding: 30px;\n  max-width: 735px;\n  z-index:99999999;\n`\nconst ArticleTitle = styled.div`\n  font-size: 42px;\n  width: 100%;\n  margin-bottom: 22.5px;\n  line-height: 1.125;\n  // color: white;\n  z-index: 99999999;\n  position: relative;\n  // font-family: 'Lato';\n  // font-weight: 700;\n  font-style: italic;\n  font-family: \"orpheuspro\";\n  font-size: 54px;\n  font-weight: 500;\n  font-style: normal;\n`\nconst TopText = styled.div`\n  width: 100%;\n  text-align: center;\n  padding: 30px 45px;\n  top:0;\n  position: fixed;\n  // background-color: rgba(255,255,255,0.92);\n  // background-color: rgba(255, 244, 198, 0.92);\n  min-height: 60px;\n  // border-bottom: solid thin lightgrey;\n  z-index: 99;\n`\n\n\nclass QuickFactOverlay extends React.Component {\n  render() {\n    const { quickFact, transition } = this.props\n\n    if (!quickFact) return (\n      <Overlay key=\"quickfact\" id=\"quickfact\" visible={false}/>\n\n    )\n    const quickClips = quickFact.relationships.field_related_content || [];\n\n    const quickClipLinks = {\n      articles: [],\n      clips: [],\n      faqs: [],\n      quickFacts: []\n    }\n\n    quickClips.forEach(item => {\n      if (item.__typename == `node__faq`) {\n        quickClipLinks.faqs.push(item)\n      } else if (item.__typename == `node__article`) {\n        quickClipLinks.articles.push(item)\n      } else if (item.__typename == `node__clip`) {\n        quickClipLinks.clips.push(item)\n      }\n    })\n\n    return (\n      <Overlay key=\"quickfact\" id=\"quickfact\" visible={!!quickFact} style={transition && transition.style}>\n        <OverlayBody>\n          <OverlayHeader>\n            <div onClick={this.props.closeHandler} style={{float: `right`, color: `red`, cursor: `pointer`}}>\n            <img style={{width: 50, marginTop:34}} src={require('../assets/images/close.svg')} />\n            </div>\n            <h3>{quickFact.title}</h3>\n            <div\n              dangerouslySetInnerHTML={{\n                __html: quickFact.field_quickfact.processed,\n              }}\n            />\n          </OverlayHeader>\n          <div style={{ width: `100%`, display: `flex`, }}>\n            {\n              getCards(quickClipLinks, null, null, true).slice(0,2)\n            }\n          </div>\n        </OverlayBody>\n      </Overlay>\n    )\n  }\n}\n\nclass TagOverlay extends React.Component {\n  render() {\n    const { tag, transition, queryParams = {} } = this.props\n\n    if (!tag) return (\n      <Overlay key=\"tag\" id=\"tag\" visible={!!tag}/>\n    )\n\n    const quickClipLinks = {\n      articles: tag.relationships.backref_field_tags_node_article ,\n      faqs: tag.relationships.backref_field_tag_node_faq,\n      clips: tag.relationships.backref_field_t_node_clip,\n      quickFacts: []\n    }\n\n    const itemExists = itemTag => (({\n      faq: tag.relationships.backref_field_tag_node_faq,\n      article: tag.relationships.backref_field_tags_node_article,\n      clip: tag.relationships.backref_field_t_node_clip,\n    })[itemTag])\n\n    return (\n      <Overlay key=\"tag\" id=\"tag\" visible={!!tag} style={transition && transition.style}>\n        <OverlayBody wide>\n            \n          <OverlayHeader>\n            <div onClick={this.props.closeHandler} style={{float: `right`, color: `red`, cursor: `pointer`}}>\n            <img style={{width: 50, marginTop:34}} src={require('../assets/images/close.svg')} />\n            </div>\n            <div style={{\n              textAlign:'center'\n            }}>\n              <OverlayTitle>{tag.name}</OverlayTitle>\n            </div>\n           \n          </OverlayHeader>\n          <div>\n            \n            <div style={{ width: `100%`, display: 'flex', 'flexWrap': 'wrap'}}>\n              {\n                getCards(quickClipLinks, queryParams[`type`], null, true)\n              }\n            </div>\n          </div>\n        </OverlayBody>\n      </Overlay>\n    )\n  }\n}\n\nconst BreadcrumbLink = styled(Link)`\n  cursor: pointer;\n  text-decoration: none;\n  color: white;\n  font-family: 'Lato';\n  letter-spacing: 0.03em;\n  background-color: #2b2b2b;\n  padding: 7.5px;\n`;\n\nconst Breadcrumbs = ({titles}) => {\n\n  const links = titles.map( title => {\n    const url = `/themes/${kebabCase(title)}`;\n    return {url, title};\n  });\n\n  const Container = styled.div`\n    display: flex;\n    flex-direction: row;\n  `;\n\n  return (\n    <Container style={{marginTop:30}}>\n      FILED UNDER:&nbsp;\n      {\n        links.map( ({url, title}, index) => \n          <div>\n            <BreadcrumbLink to={url}>{title}</BreadcrumbLink>\n            &nbsp;{ index == (links.length - 1) ? null : 'and' }&nbsp;\n          </div>\n        )\n      }\n    </Container>\n  )\n}///\n\nclass SingleArticle extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n  }\n\n  render() {\n    const { data, transition } = this.props\n    const queryParams = queryString.parse(this.props.location.search);\n    const quickFact = queryParams.quickfact ?\n      (data.nodeArticle.relationships.field_article_related_content || []).filter(node => (node.__typename === `node__quickfact` && kebabCase(node.title) == queryParams.quickfact)\n      )[0] :\n      null\n\n    const {\n      nodeArticle: {\n        relationships: {\n          field_belongs_to_subtheme\n        }\n      }\n    } = data;\n\n    let themesObject = {};\n\n    field_belongs_to_subtheme.map( ({relationships: {field_belongs_to_theme}}) => {\n      field_belongs_to_theme.map( ({name}) => {\n        themesObject[name] = true;\n      })\n    })\n\n    const themes = Object.keys(themesObject)\n\n    const tag = queryParams.tag ?\n      (data.nodeArticle.relationships.field_tags || []).filter(tag => (kebabCase(tag.name) == queryParams.tag)\n      )[0] :\n      null\n\n    let background = data.nodeArticle.relationships.field_main_image &&\n            data.nodeArticle.relationships.field_main_image.localFile.publicURL;\n\n    const {allImageSharp} = data;\n\n    allImageSharp.edges.map( ({node}) => {\n      const {\n        original,\n        resolutions\n      } = node;\n\n      const isBackground = original.src.toLowerCase() === `${background}`.toLowerCase();\n\n      if(isBackground) {\n        background = resolutions.src;\n      }\n\n    })\n\n    return (\n      <div style={{position:'relative', height: '100vh'}}>\n        <ArticleBackground />\n        <QuickFactOverlay\n          quickFact={quickFact}\n          closeHandler={() => {\n            push(`?`)\n          }}\n          transition={transition}\n        />\n        <TagOverlay\n          queryParams={queryParams}\n          tag={tag}\n          transition={transition}\n          closeHandler={() => {\n            push(`?`)\n          }}\n        />\n        \n        <TopText>\n          <Link style={{color:'inherit'}} to=\"/articles/\">\n            <img style={{height: 24, opacity:0.8, display:'inline-block', marginBottom:0, marginRight:15, verticalAlign:'middle'}} src={require('../assets/images/back.svg')} />\n            {/* <h4 style={{marginBottom:0}}>By {data.nodeArticle.field_author && data.nodeArticle.field_author.processed}</h4> */}\n            <h4 style={{marginBottom:0, display:'inline-block', verticalAlign:'middle'}}>all articles</h4>\n          </Link>\n          <Breadcrumbs titles={themes} />\n        </TopText>\n        <ArticleHeader\n          background={background}\n        >\n        </ArticleHeader>\n        <div style={{backgroundColor:'rgba(255, 255, 255, 0.92)', marginTop:'calc(100vh - 174px)', width:'calc(100% - 60px)', position:'relative', zIndex:999, marginLeft: 30, boxShadow: '0px 0px 36px -4px rgba(117, 117, 117, 0.8)'}}>\n          \n\n          <div className=\"row\">\n          \n            <div style={{marginLeft:0, marginRight:30}} className=\"column _75\">\n              <ArticleMain>\n                \n                <LargeCalloutText\n                  style={{\n                    fontSize: 24,\n                    fontWeight: 'normal',\n                    lineHeight: 1.5\n                  }}\n                  dangerouslySetInnerHTML={{\n                    __html: data.nodeArticle.field_large_callout_text.processed,\n                  }}\n                />\n                <div\n                  style={{lineHeight:1.7}}\n                  dangerouslySetInnerHTML={{\n                    __html: data.nodeArticle.field_full_version.processed,\n                  }}\n                />\n                \n                  <div style={{textAlign:'center', marginTop:60, marginBottom:60}}>\n                  \n                  </div>\n\n                  <p style={{\n                  color: 'lightgrey',\n                  letterSpacing: '0.04em',\n                  fontFamily: 'Lato',\n                  textAlign:'center'\n                  }}>\n                    NOTE: <span dangerouslySetInnerHTML={{\n                      __html: data.nodeArticle.field_old_article_discl && data.nodeArticle.field_old_article_discl.processed,\n                    }}\n                  /></p>\n              </ArticleMain>\n            </div>\n          \n            <div style={{textAlign:'center'}} className=\"column\">\n              <div className=\"row\">\n                <div style={{textAlign:'center', paddingTop:45}} className=\"column\">\n                  <ArticleTitle>{data.nodeArticle.title}</ArticleTitle>\n                  <h4 style={{marginBottom: 45}}>By {data.nodeArticle.field_author && data.nodeArticle.field_author.processed}</h4>\n                </div>\n              </div>\n              <div style={{\n                  width:180,\n                  height:180,\n                  marginBottom:15,\n                  border:'solid thin lightgrey',\n                  overflow:'hidden',\n                  display:'inline-block',\n                  borderRadius:'50%',\n                }}\n              >\n                <img style={{\n                  width:180,\n                }} src={\n                  data.nodeArticle.relationships.field_author_image &&\n                  data.nodeArticle.relationships.field_author_image.localFile.publicURL\n                } />\n              </div>\n              <div style={{\n                  maxWidth: 300,\n                  fontFamily: 'Lato',\n                  fontWeight: 700,\n                  fontSize: 14,\n                  margin: '0 auto',\n                  marginBottom: 60,\n                  letterSpacing: '0.04em'\n                }} \n                dangerouslySetInnerHTML={{\n                  __html: data.nodeArticle.field_author_bio && data.nodeArticle.field_author_bio.processed,\n                }}\n              />\n              <div style={{ marginBottom:15}}>\n                <h4>tags:</h4>\n                {\n                (data.nodeArticle.relationships.field_tags || []).map(tag =>\n                  <Link\n                    to={`?${queryString.stringify({ ...queryParams, tag: kebabCase(tag.name) })}`}\n                    key={`tag-${tag.name}`}\n                    className={'tag'}\n                  >\n                    {tag.name}\n                  </Link>\n                  )\n                }\n              </div>\n              <div style={{height: 200}}/>\n              <button style={{marginRight:30}} onClick={() => { this.setState({ teaching: false}) }}>\n                Related Content\n              </button>\n              <button onClick={() => { this.setState({ teaching: true}) }}>\n                Teaching\n              </button>\n              {\n                (data.nodeArticle.relationships.field_article_related_content || [])\n                .filter(node => (!this.state.teaching || node.field_include_in_the_teaching_se) )\n                .map((node, i) => {\n                    if (node.__typename == `node__quickfact`) {\n                      const newQueryParams = { ...queryParams, quickfact: kebabCase(node.title) }\n\n                      return (\n                        <QuickFactCard\n                          key={`quick-fact-card-${i}`}\n                          link={`?${queryString.stringify(newQueryParams)}`}\n                          quickfact={node}\n                          i={i}\n                          style={{ cursor: `pointer`, textAlign:'left', border: `1px solid #888888`, padding: 20}}\n                        />\n                      )\n                    } else if (node.__typename == `node__article`) {\n                      return (\n                        <ArticleCard\n                          key={`article-${i}`}\n                          i={i}\n                          article={node}\n                          relatedContent\n                        />\n                      )\n                    } else if (node.__typename == `node__faq`) {\n                      return (\n                        <FAQCard\n                          key={`faqcard-${i}`}\n                          i={i}\n                          faq={node}\n                        />\n                      )\n                    } else if (node.__typename == `node__clip`) {\n                      return (\n                        <ClipCard\n                          key={`clip-card-${i}`}\n                          i={i}\n                          clip={node}\n                          playable\n                        />\n                      )\n                    }\n                  }\n                )\n              }\n            </div>\n        </div>\n      </div>\n      </div>\n    )\n  }\n}\n\n\nexport default SingleArticle;\n\nexport const pageQuery = graphql`\n  query singleQuery($id: String) {\n    allImageSharp {\n      edges {\n        node {\n          id\n          original {\n            width\n            height\n            src\n          }\n          resolutions(width: 1000) {\n            src\n          }\n        }\n      }\n    }\n    nodeArticle(id: { eq: $id }) {\n      id\n      field_old_article_discl {\n        processed\n      }\n      field_author {\n        processed\n      }\n      field_author_bio {\n        processed\n      }\n      field_copyright {\n        processed\n      }\n      title\n      relationships {\n        field_belongs_to_subtheme {\n          id\n          name\n          relationships {\n            field_belongs_to_theme {\n              id\n              name\n            }\n          }\n        }\n        field_article_related_content {\n          __typename\n          ... on node__faq {\n            ...FAQFragment\n          }\n          ... on node__clip {\n            ...PosterImageClipFragment\n          }\n          ... on node__article {\n            ...ArticleFragment\n          }\n          ... on node__quickfact {\n            ...QuickfactWithRelatedContentFragment\n          }\n        }\n        field_tags {\n          name\n          relationships {\n            backref_field_tags_node_article {\n              ...ArticleFragment\n            }\n            backref_field_tag_node_faq {\n              ...FAQFragment\n            }\n            backref_field_t_node_clip {\n              ...PosterImageClipFragment\n            }\n          }\n        }\n        field_author_image {\n          localFile {\n            publicURL\n          }\n        }\n        field_main_image {\n          localFile {\n            publicURL\n\n          }\n        }\n      }\n      field_large_callout_text {\n        processed\n      }\n      field_full_version {\n        processed\n      }\n    }\n  }\n`\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Link } from 'gatsby'\nimport kebabCase from 'lodash/kebabCase'\n\nconst ClipCard = styled.div`\n\twidth: 300px;\n\tbackground-color:#292929;\n\tcolor: white;\n\tdisplay:inline-block;\n\tvertical-align: top;\n\tmargin-right:30px;\n\tmargin-bottom: 30px;\n\ttransition: all .3s;\n\tborder-radius: 6px;\n\t&:hover {\n\t  transition: all .3s;\n\t}\n\tcursor: pointer;\n`\nconst ClipCaption = styled.div`\n\tfont-family: 'Lato';\n\tfont-size: 14px;\n\tline-height: 1.5;\n\tfont-weight: 300;\n\tletter-spacing: 0.04em;\n\tpadding: 15px 30px 30px 30px;\n`\nconst ClipPoster = styled.div`\n\theight:200px;\n\twidth:100%;\n\tbackground-color:red;\n\tbackground-size:cover;\n\tbackground-position: center;\n  background-image: ${props => props.background ?  `url(${props.background})` : `none`};\n`\n\nexport const Clip = ({ clip, link }) =>  {\n\treturn (\n\t\t\t<ClipCard>\n\t\t\t\t{\n\t\t\t\t\tlink ?\n\t\t\t\t\t\t<Link style={{color:'inherit', textDecoration:'none'}} to={`/clips/${kebabCase(clip.title)}`}>\n\t\t\t\t\t\t\t<ClipPoster background={clip.relationships.field_poster_image && clip.relationships.field_poster_image.localFile.publicURL} />\n\t\t\t\t\t\t\t<ClipCaption>\n\t\t\t\t\t\t\t\t{clip.title}\n\t\t\t\t\t\t\t</ClipCaption>\n\t\t\t\t\t\t</Link> :\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<iframe title={clip.title} src={`${clip.field_external_video_url && clip.field_external_video_url.uri}?title=0&byline=0&portrait=0`} frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\n\t\t\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t</ClipCard>\n\t\t)\n}\n\n\nconst AllClips = ({ data, selected }) => {\n\tlet array = data.allNodeClip.edges\n\n\tif(selected)\n\t\tarray = array.filter( el => selected === 'all' ? true : el.node.field_episode === parseInt(selected) )\n\t\n\treturn (\n\t  <div style={{padding: '0 30px'}}>\n\t    {\n\t    \tarray.map((edge, i) =>\n\t\t      <Clip key={`clip-${i}`} clip={edge.node} link={true} />\n\t\t    )\n\t\t  }\n\t  </div>\n\t)\n}\n\nexport default AllClips\n\n","'use strict';\nconst strictUriEncode = require('strict-uri-encode');\nconst decodeComponent = require('decode-uri-component');\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, index) => {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, options),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, options),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, options),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, options)\n\t\t\t\t].join('');\n\t\t\t};\n\t\tcase 'bracket':\n\t\t\treturn (key, value) => {\n\t\t\t\treturn value === null ? [encode(key, options), '[]'].join('') : [\n\t\t\t\t\tencode(key, options),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, options)\n\t\t\t\t].join('');\n\t\t\t};\n\t\tdefault:\n\t\t\treturn (key, value) => {\n\t\t\t\treturn value === null ? encode(key, options) : [\n\t\t\t\t\tencode(key, options),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, options)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction extract(input) {\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parse(input, options) {\n\toptions = Object.assign({decode: true, arrayFormat: 'none'}, options);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof input !== 'string') {\n\t\treturn ret;\n\t}\n\n\tinput = input.trim().replace(/^[?#&]/, '');\n\n\tif (!input) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of input.split('&')) {\n\t\tlet [key, value] = param.replace(/\\+/g, ' ').split('=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : decode(value, options);\n\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\treturn Object.keys(ret).sort().reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (obj, options) => {\n\tconst defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\toptions = Object.assign(defaults, options);\n\n\tif (options.sort === false) {\n\t\toptions.sort = () => {};\n\t}\n\n\tconst formatter = encoderForArrayFormat(options);\n\n\treturn obj ? Object.keys(obj).sort(options.sort).map(key => {\n\t\tconst value = obj[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\tconst result = [];\n\n\t\t\tfor (const value2 of value.slice()) {\n\t\t\t\tif (value2 === undefined) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, value2, result.length));\n\t\t\t}\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&') : '';\n};\n\nexports.parseUrl = (input, options) => {\n\treturn {\n\t\turl: input.split('?')[0] || '',\n\t\tquery: parse(extract(input), options)\n\t};\n};\n","'use strict';\nmodule.exports = str => encodeURIComponent(str).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n","import styled from 'styled-components'\n\nexport default styled.div`\n  color: white;\n  text-align: center;\n  font-family: Lato;\n  font-size: 36px;\n  font-weight: 300;\n  letter-spacing: 0.04em;\n  padding-top: 120px;\n  margin-bottom: 75px;\n`;","import React from 'react'\nimport styled from 'styled-components'\nimport kebabCase from 'lodash/kebabCase'\nimport { Link } from '../';\n\nconst Container = styled(Link)`\n  color: white;\n  padding: 1vw;\n  font-family: 'Lato';\n  text-align: center;\n`\n\nconst Title = styled.div`\n  position: relative;\n  font-size: 20pt;\n  line-height: 26px;\n  font-weight: bold;\n  padding-bottom: 1vh;\n\n  &:after {\n    content: \"\\00a0\\00a0\";\n    position: absolute;\n    bottom: -.25vh;\n    left: calc(50% - 50px);\n    width: 100px;\n    height: 1px;\n    border-bottom: 2px solid #D83C46;\n  }\n`\n\nconst Description = styled.div`\n  font-family: 'Tisa Pro';\n  font-size: 16pt;\n  padding-top: 1vh;\n  padding-bottom: 1vh;\n`\n\nclass SubThemeCard extends React.Component {\n  render() {\n    const {data} = this.props;\n    const title = data.name;\n    const description = data.description ? data.description.value : '';\n    const link = `/subthemes/${kebabCase(title)}`\n\n    return (\n      <Container to={link}>\n        <Title>{title}</Title>\n        <Description dangerouslySetInnerHTML={{ __html: description }} />\n      </Container>\n    )\n  }\n}\n\nexport default SubThemeCard\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport SubThemeCard from './SubThemeCard'\n\nconst gradient = `linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(1,1,2,0.64) 25%,rgba(1,1,2,1) 100%)`\n\nconst Container = styled.div`\n  border-radius: 45;\n  width: 90%;\n  margin-left: 5%;\n  margin-bottom: 60px;\n  margin-right: 0;\n  display: inline-block;\n  vertical-align: top;\n  position: relative;\n  overflow: hidden;\n  box-shadow: rgba(39, 39, 39, 0.58) 0px 3px 57px 0px;\n  user-select: none;\n  border-radius: 60px;\n  color: white;\n  \n  background-size: cover !important;\n  background-attachment: fixed;\n  transition: all .5s ease;\n\n  &:hover {\n    background-size: 125% auto !important;\n    transition: all .5s ease;\n    background: ${ props => props.background ? `url(${props.background}) center no-repeat` : `none`};\n    background: ${ props => props.background ? `${gradient}, url(${props.background}) center no-repeat` : `none`};\n  }\n\n  background: ${ props => props.background ? `url(${props.background}) center no-repeat` : `none`};\n  background: ${ props => props.backgrounGrayscale ? `url(${props.backgrounGrayscale}) center no-repeat` : `none`};\n  background: ${ props => props.backgrounGrayscale ? `${gradient}, url(${props.backgrounGrayscale}) center no-repeat` : `none`}; \n\n  height: ${props => props.open ? '100vh' : '60vh'};\n`;\n\nconst Title = styled.div`\n  font-family: Lato;\n  font-size: 48px;\n  line-height: 1;\n  text-align: left;\n  letter-spacing: 0.011em;\n  padding-top: 30vh;\n  padding-bottom: 5vh;\n  text-align: center;\n`;\n\nconst Description = styled.div`\n  font-family: Lato;\n  text-align: center;\n  padding-left: 10vw;\n  padding-right: 10vw;\n`;\n\nconst Chevron = styled.div`\n  cursor: pointer;\n  position: absolute;\n  right: 1vw;\n  top: 30vh;\n  font-family: 'Lato';\n  font-size: 100px;\n  color: white;\n\n  transform: ${ props => props.open ? 'rotate(90deg)' : 'none'};\n`\n\nconst SubThemes = styled.div`\n  display: grid;\n  grid-template-columns: 30vw 30vw 30vw;\n  /*grid-template-rows: 40vh 40vh;*/\n`\n\nclass ThemeCard extends React.Component {\n  constructor(props) {\n    super(props);\n  \n    this.state = {\n      open: false\n    };\n  }\n\n  render() {\n    const { open } = this.state;\n    const { data } = this.props\n    const background = data.relationships.field_theme_image && data.relationships.field_theme_image.localFile.publicURL\n    let backgrounGrayscale = '';\n\n    try{\n      backgrounGrayscale = data.relationships.field_theme_image.localFile.childImageSharp.grayscale.src;\n    }catch(e){\n      backgrounGrayscale = background\n    }\n\n    const description = data.description && data.description.processed\n\n    //preloading images for smoother effect\n    if(typeof window !== 'undefined'){\n      let img = new window.Image();\n      img.src = background;\n    }\n    \n    const { subthemes } = data.relationships;\n\n    return (\n      <Container\n        open={open}\n        background={background}\n        backgrounGrayscale={backgrounGrayscale}\n        onClick={() => this.setState({open: !open})}\n      >\n        <Title>{data.name}</Title>\n        <Description dangerouslySetInnerHTML={{ __html: description }} />\n        <Chevron open={open}>〉</Chevron>\n        {\n          <SubThemes>\n            {\n              open && subthemes.map( (data, key) => <SubThemeCard key={key} data={data} />)\n            }\n          </SubThemes>\n        }\n      </Container>\n    )\n  }\n}\n\nexport default ThemeCard\n","import React from \"react\"\nimport { Link } from 'gatsby'\nimport kebabCase from 'lodash/kebabCase'\nimport styled, { css } from 'styled-components';\n\nclass RCCard extends React.Component {\n    render() {\n        return (\n        <Link to={`/${this.props.slug}s/${kebabCase(this.props.title)}`} className={this.props.className} style={this.props.style}>\n            {this.props.type ?\n            <h4>{this.props.type}</h4> :\n            null }\n            <div className={'RCimage'} style={{\n              backgroundImage: `url(${this.props.imgSrc})`,\n              backgroundSize: 'cover',\n              backgroundPosition: 'center'\n            }}>\n            </div>\n            <p>{this.props.title}</p>\n\n            {this.props.children}\n        </Link>\n        )\n    }\n}\n\nconst BASE_CARD_WIDTH = 350;\nconst FLEX = 100;\nconst MAX_WIDTH_CONSTANT = .7;\nconst ARTICLE_MULTIPLIER = 1.5;\nconst QUICK_FACT_MULTIPLIER = 1.5;\n\nconst StyledRCCard = styled(RCCard)`\n  display: inline-block;\n  height: auto;\n  flex: ${FLEX} ${FLEX} ${BASE_CARD_WIDTH}px;\n  border: solid thin lightgrey;\n  background-color: #f7f7f7;\n  -webkit-box-shadow: 0px 2px 15px 0px rgba(179,179,179,0.38);\n  -moz-box-shadow: 0px 2px 15px 0px rgba(179,179,179,0.38);\n  box-shadow: 0px 2px 15px 0px rgba(179,179,179,0.38);\n  margin-bottom: 20px;\n  font-family: \"ff-tisa-web-pro\";\n  vertical-align: top;\n  text-align: left;\n  margin-left: 10px;\n  margin-right: 10px;\n  max-width: ${BASE_CARD_WIDTH * MAX_WIDTH_CONSTANT}px\n\n  // Link styling\n  color: inherit;\n  text-decoration: inherit;\n\n  ${props => props.background && css`\n    background-image: url('${props.background}');\n    background-size: cover;\n  `}\n  \n  ${props => props.type === `Article` && css`\n    flex: ${FLEX * ARTICLE_MULTIPLIER} ${FLEX * ARTICLE_MULTIPLIER} ${BASE_CARD_WIDTH * ARTICLE_MULTIPLIER}px;\n    max-width: ${BASE_CARD_WIDTH * MAX_WIDTH_CONSTANT * ARTICLE_MULTIPLIER}px;\n  `}\n\n  ${props => props.type === `QuickFact` && css`\n    flex: ${FLEX * QUICK_FACT_MULTIPLIER} ${FLEX * QUICK_FACT_MULTIPLIER} ${BASE_CARD_WIDTH * QUICK_FACT_MULTIPLIER}px;\n    max-width: ${BASE_CARD_WIDTH * MAX_WIDTH_CONSTANT * QUICK_FACT_MULTIPLIER}px;\n  `}\n`;\n\nexport default StyledRCCard;\n\n","import React, { Component } from 'react'\nimport styled from 'styled-components'\n\nconst Row = styled.div`\n  display: flex;\n  flex-direction: row;\n  padding: 10px;\n  color: ${props => props.color ? props.color : `white`};\n`\n\nconst Element = styled.div`\n  cursor: pointer;\n  margin-left: 10px;\n  font-weight: ${props => props.selected ?  `bold` : `normal`};\n`\n\nconst Title = styled.div`\n  text-decoration: underline;\n`\n\nclass Filter extends Component {\n  render() {\n    const {selected, onSelected, color} = this.props;\n    return (\n      <Row color={color}>\n        Sort by:&nbsp;\n        <Element\n          selected={selected === 'all'}\n          onClick={() => onSelected('all')}\n        >\n          All\n        </Element>\n        <Element\n          selected={selected === '1'}\n          onClick={() => onSelected('1')}\n        >\n          <Title>Episode One:</Title> The Difference Between Us\n        </Element>\n        <Element\n          selected={selected === '2'}\n          onClick={() => onSelected('2')}\n        >\n          <Title>Episode Two:</Title> The Story We Tell\n        </Element>\n        <Element\n          selected={selected === '3'}\n          onClick={() => onSelected('3')}\n        >\n          <Title>Episode Three:</Title> The House We Live In\n        </Element>\n      </Row>\n    )\n  }\n}///\n\nexport default Filter;\n","import React from \"react\"\nimport styled from 'styled-components';\nimport { Link } from 'gatsby'\nimport { \n  Card,\n  RCCard,\n  Overlay, \n  OverlayBody \n} from './'\nimport kebabCase from 'lodash/kebabCase'\n\nconst range = require('range');\nconst FlipMove = require('react-flip-move');\n\nconst SubthemeTitle = styled.div`\n  font-weight: normal;\n  text-rendering: optimizeLegibility;\n  font-size: 42px;\n  font-weight:300;\n  padding: 15px;\n  font-family: 'Lato';\n  text-align: center;\n  color: rgba(59, 59, 59, 0.8);\n  margin-bottom: 15px;\n  margin-top: 15px;\n`\nconst NUM_CARDS_TO_SHOW = 3;\n\nconst defaultToEmpty = arr => (arr ? arr : [])\n\nconst shuffle = (arr) => {\n  var currentIndex = arr.length, temporaryValue, randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = arr[currentIndex];\n    arr[currentIndex] = arr[randomIndex];\n    arr[randomIndex] = temporaryValue;\n  }\n\n  return arr;\n}\n \nconst reorder = (arr, order) => {\n  const newArr = new Array(arr.length);\n  order && order.forEach((item, i) => {\n    newArr[i] = arr[item];\n  })\n  return newArr;\n}\n\nconst ArticleTitle = styled.div`\n  font-family: 'Lato';\n  font-size:30px;\n  font-weight: 400;\n  color: #2b2b2b;\n  letter-spacing: 0.03em;\n  padding: 0px 30px 0 0px;\n  line-height:1.25;\n  margin-bottom: 15px;\n`\n\nconst Poster = styled.div`\n  width: 100%;\n  height: 66%;\n  background-color: grey;\n  margin-bottom: 15px;\n  overflow: hidden;\n`\n\nclass PlayablePoster extends React.Component {\n  constructor(props){\n    super(props)\n    this.state = {}\n  }\n  render() {\n    if (!this.props.clip.relationships.field_poster_image) {\n      return (\n        <Poster />\n      );\n    }\n\n    if (this.state.play) {\n      return (\n        <Poster>\n          <iframe title='player' src=\"https://player.vimeo.com/video/18769983?title=0&byline=0&portrait=0\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\n        </Poster>\n      )\n    }\n\n    if (this.props.linkable) {\n      return (\n        <Link to={`../clips/${kebabCase(this.props.clip.title)}`}>\n          <Poster>\n            <img alt='poster image' src={this.props.clip.relationships.field_poster_image.localFile.publicURL} />\n          </Poster>\n        </Link>\n      )\n    }\n    return (\n      <Poster onClick={() => this.setState({ play: true })}>\n        <img alt='another image' src={this.props.clip.relationships.field_poster_image.localFile.publicURL} />\n      </Poster>\n    );\n  }\n}\n\nexport class ArticleCard extends React.Component {\n  render() {\n    const { article, i, relatedContent, style = {}, onOpen } = this.props\n    const link = `/articles/${kebabCase(article.title)}` \n    return (\n      relatedContent ?\n        <RCCard style={{...style, padding:30}} key={`article-${i}`} article={article} imgSrc={article.relationships.field_main_image && article.relationships.field_main_image.localFile && article.relationships.field_main_image.localFile.publicURL } title={article.title} type=\"Article\" slug=\"article\" changed={article.changed}>\n        {article.field_short_version && (\n          <p className={'RCcard-large-text'} dangerouslySetInnerHTML={{ __html: article.field_short_version.processed }} />\n        )}\n        </RCCard> :\n        <Card\n          style={{...style, padding:0}}\n          key={`article-${i}`}\n          title={article.title}\n          type=\"Article\"\n          slug=\"article\"\n          changed={article.changed}\n          onClick={ () => onOpen(link)}\n        >\n        <div className='articleCardImage' style={{ backgroundImage: article.relationships.field_main_image ? `url(${article.relationships.field_main_image.localFile.publicURL})` : null}}/>\n        {article.field_short_version && (\n          <div style={{padding: 30}}>\n            <h4 style={{marginBottom:15}}>Article by {article.field_author && article.field_author.processed}</h4>\n            {/* { article.field_author && <h6 style={{textAlign:'right', marginBottom:7.5, fontSize:14}} dangerouslySetInnerHTML={{ __html: article.field_author.processed}}/>} */}\n            <ArticleTitle>{article.title}</ArticleTitle>\n            \"<span className={'card-large-text'} dangerouslySetInnerHTML={{ __html: article.field_short_version.processed }} />\n             \n            \n           \n          </div>\n        )}\n        </Card>\n    )\n  }\n}\n\nexport class ClipCard extends React.Component {\n  render() {\n    const { clip = { relationships: {} }, i, relatedContent, linkable, style = {} } = this.props\n    return (\n      relatedContent ?\n      <RCCard key={`clip-${i}`} title={clip.title} slug=\"clip\" changed={clip.changed} style={style}>\n        <PlayablePoster\n          clip={clip}\n          linkable={linkable}\n        />\n        <p style={{paddingLeft:30, paddingRight:30, paddingBottom: 20}} className={'caption'}>{clip.title}</p>\n      </RCCard> :\n      // background={clip.relationships.field_poster_image && clip.relationships.field_poster_image.localFile.publicURL}\n      <Card key={`clip-${i}`} title={clip.title} type=\"Clip\" slug=\"clip\" style={style} changed={clip.changed} link={`/clips/${kebabCase(clip.title)}`}>\n        <PlayablePoster\n          clip={clip}\n        />\n        <p style={{paddingLeft:30, paddingRight:30, paddingBottom: 20}} className={'caption'}>{clip.title}</p>\n      </Card>\n    )\n  }\n}\n\nexport class FAQCard extends React.Component {\n  render() {\n    const { \n      faq = {},\n      i,\n      // relatedContent,\n      style = {} \n    } = this.props\n    return (\n      <Card\n        style={{\n          ...style, \n          padding:30, \n          display:'flex', \n          flexDirection: 'column', \n          justifyContent:'center'\n        }}\n        key={`faq-${i}`}\n        slug=\"faq\"\n        changed={faq.changed}\n        type=\"FAQ\" \n        link={`/qa/${kebabCase(faq.title)}`}>\n        <h4 style={{marginBottom:15}}>Q&A</h4>\n        <p className='card-large-text'>{faq.title}</p>\n      </Card>\n    )\n  }\n}\n\nexport class InterviewCard extends React.Component {\n  render() {\n    const { interview = {}, i, relatedContent, style = {}, onOpen } = this.props\n    const link = `/interviews/${kebabCase(interview.title)}` \n    return (\n      <Card\n        style={{\n          ...style, \n          padding:30, display:'flex', \n          flexDirection: 'column', \n          justifyContent:'center'\n        }}\n        key={`interview-${i}`}\n        type=\"Interview\"\n        title={interview.title}\n        slug=\"interview\"\n        changed={interview.changed}\n        onClick={ () => onOpen(link)}\n      >\n        <div className=\"interviewCardPhoto\" style={{backgroundImage: interview.relationships.field_interviewee ? `url(${interview.relationships.field_interviewee.localFile.publicURL})` : null }}/>\n        {/* <h4 style={{marginBottom:15}}>Interview with </h4> */}\n        <h4 style={{marginTop:15, marginBottom:15, lineHeight:1.5, textAlign:'center'}}>{interview.title}</h4>\n        <p style={{fontStyle:'italic', textAlign:'center'}} className={'card-large-text'}>{interview.field_key_quote.processed}</p>\n      </Card>\n    )\n  }\n}\n\nexport class QuickFactCard extends React.Component {\n  render() {\n    const { quickfact, i, relatedContent, style = {}, ...rest } = this.props\n    return (\n      <Card {...rest} key={`quickfact-${i}`} type=\"QuickFact\" title={quickfact.title} slug=\"quickfact\" changed={quickfact.changed} style={{ ...style, padding:15}}>\n        <h4>{quickfact.title}</h4>\n        <div\n          dangerouslySetInnerHTML={{\n            __html: quickfact.field_quickfact.processed,\n          }}\n        />\n      </Card>\n    )\n  }\n}\n\nexport const getCards = (relationships, queryFilter, relatedContent, linkableClip, onOpen) => {\n  if(!onOpen)\n    onOpen = link => {}\n\n  return [\n    ...defaultToEmpty(relationships.articles).filter(article => !queryFilter || queryFilter === `recent` || queryFilter === `article`).map((article, i) => (<ArticleCard key={`article-${article.title}`} onOpen={ link => onOpen(link, article) } article={article} i={i} relatedContent={relatedContent} />)),\n    ...defaultToEmpty(relationships.clips).filter(clip => !queryFilter || queryFilter === `recent` || queryFilter === `clip`).map((clip, i) => (<ClipCard key={`clip-${clip.title}`} linkable={linkableClip} clip={clip} i={i} relatedContent={relatedContent} />)),\n    ...defaultToEmpty(relationships.faqs).filter(faq => !queryFilter || queryFilter === `recent` || queryFilter === `faq`).map((faq, i) => (<FAQCard key={`faq-${faq.title}`} faq={faq} i={i} relatedContent={relatedContent} />)),\n    ...defaultToEmpty(relationships.interviews).filter(interview => !queryFilter || queryFilter === `recent` || queryFilter === `interview`).map((interview, i) => (<InterviewCard key={`interview-${interview.title}`} onOpen={ link => onOpen(link, interview) } interview={interview} i={i} relatedContent={relatedContent} />)),\n    ...defaultToEmpty(relationships.quickfacts).filter(quickfact => !queryFilter || queryFilter === `recent` || queryFilter === `quickfact`).map((quickfact, i) => (<QuickFactCard key={`quickfact-${quickfact.title}`} quickfact={quickfact} i={i} relatedContent={relatedContent} />)),\n  ]\n}\n\nconst DISPLAY_NAMES_TO_SLUG = new Map([\n  [`articles`, `article`],\n  [`interviews`, `interview`],\n  [`faqs`, `faq`],\n  [`clips`, `clip`],\n  [`recently added`, `recent`]\n])\n\nconst itemExists = (itemTag, parent) => {\n  return parent.relationships[itemTag]\n\n}\n\nconst FilterButtonStyle = {\n  color: `rgb(255, 132, 0)`,\n  marginRight: 15,\n  marginBottom: 15,\n  fontSize:14,\n  letterSpacing:'0.125em',\n}\n\nconst FilterButtonStyleActive = {\n  ...FilterButtonStyle,\n  fontWeight: `700`,\n  borderBottom: `solid 2px hotpink`,\n}\n\nconst Filters = ({ queryParams, name, filter, subtheme, toggleFilter }) => (\n  <div style={{\n    mixBlendMode:'normal',\n    textAlign: 'center',\n    marginBottom: 15\n  }}\n    >\n    <span style={{\n            marginRight: 15,\n            fontFamily: 'Lato',\n            fontWeight:700,\n            fontSize: 14,\n            letterSpacing: '0.2em',\n            textTransform: 'uppercase',\n            color:'hotpink'\n          }}\n          >Sort by: </span>\n          <button onClick={() => {\n            toggleFilter(null)\n          }}\n          style={\n            (!filter ? FilterButtonStyleActive : FilterButtonStyle)\n          }>\n            All\n          </button>\n    {\n      Array.from(DISPLAY_NAMES_TO_SLUG.keys()).filter(itemType => (itemType === `recently added` || itemExists(itemType, subtheme))).map(filterType => {\n        const filterSlug = DISPLAY_NAMES_TO_SLUG.get(filterType)\n\n        return (\n          <button\n            key={filterType}\n            onClick={() => {\n              toggleFilter(filterSlug)\n            }}\n            style={{\n              ...(filter === filterSlug ? FilterButtonStyleActive : FilterButtonStyle),\n              float: 'none',\n              fontWeight:700, letterSpacing:'0.2em', color:'hotpink'\n            }}\n          >\n            {filterType}\n          </button>\n      )})\n    }\n  </div>\n)\n\nconst Row = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n`\n\nconst PopupCard = styled.div`\n  position: relative;\n  width: 33vw;\n  height: 33vw;\n  min-width: 300px;\n  min-height: 300px;\n  background-color: gray;\n  border-radius: 100px;\n  border: 1px solid grey;\n  overflow: hidden;\n`\n\nconst CloseButton = styled.div`\n  cursor: pointer;\n  position: absolute;\n  top: 30px;\n  right: 30px;\n`\n\nconst TopImage = styled.div`\n  height:50%;\n  width:100%;\n  background-color:red;\n  background-size:cover;\n  background-position: center;\n  background-image: ${props => props.background ?  `url(${props.background})` : `none`};\n`\n\nconst Description = styled.div`\n`\n\nclass SubthemeSection extends React.Component {\n\n  constructor(props){\n    super(props)\n\n    this.updateOrder(props, null)\n\n    this.state = { \n      numCards: NUM_CARDS_TO_SHOW,\n      filter: null,\n      popup: false,\n      card: null\n    }\n\n    this.close = this.close.bind(this)\n    this.open = this.open.bind(this)\n    this.toggleFilter = this.toggleFilter.bind(this)\n  }\n\n  toggleFilter(value) {\n    if (this.state.filter === value) {\n      this.setState({filter: null})\n    } else {\n      this.setState({filter: value})\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return (\n      // nextProps.filter !== this.props.filter ||\n      nextState.numCards !== this.state.numCards ||\n      nextState.filter !== this.state.filter ||\n      nextState.popup !== this.state.popup\n    );\n  }\n\n  componentWillUpdate(nextProps, nextState) {\n    if (this.state.filter !== nextState.filter) {\n      // this.updateOrder(nextProps, nextState.filter)\n    }\n  }\n\n  getShuffle = length => {\n    // weird Gatsby hack\n    const isBrowser = typeof window !== 'undefined';\n    if (!isBrowser) return;\n\n    let storedOrder = window.localStorage.getItem('shuffle');\n    if(storedOrder){\n      storedOrder = JSON.parse(storedOrder)\n    }else{\n      storedOrder = shuffle(range.range(length))\n      window.localStorage.setItem('shuffle', JSON.stringify(storedOrder));\n    }\n\n    return storedOrder\n  }\n\n  updateOrder(props, filter) {\n    if (props.filter) return;\n    const length = getCards(props.data.relationships, filter).length;\n    this.order = this.getShuffle(length)\n  }\n\n  close = () => {\n    this.setState({\n      popup: !this.state.popup,\n      card: null\n    })\n  }\n\n  open = (link, data) => {\n    this.setState({\n      popup: true,\n      card: {...data, link}\n    })\n  }\n\n  render() {\n    const subtheme = this.props.data\n\n    // TODO (Conrad): Create custom card component for each type of data (article, clip, faq, etc)\n\n    const { filter, popup, card } = this.state;\n\n    const rawCards = getCards(subtheme.relationships, filter, null, true, this.open)\n\n    const allCards = filter ?\n      rawCards.sort((a, b) => (b.props.changed - a.props.changed)) :\n      reorder(rawCards, this.order)\n\n    const description = subtheme.description\n      ? <div\n            className={'subtheme-description'}\n            key=\"description\"\n            dangerouslySetInnerHTML={{ __html: subtheme.description.processed }}\n          />\n      : null\n\n    return (\n      <div>\n        <Overlay id=\"subtheme-overlay\" visible={popup}>\n          <OverlayBody>\n            <Row>\n              { \n                card && <PopupCard>\n                  <CloseButton onClick={this.close}>Close</CloseButton>\n                  <TopImage background={card.relationships.field_main_image && card.relationships.field_main_image.localFile.publicURL} />\n                  <h1>{card.title}</h1>\n                  <Description\n                    dangerouslySetInnerHTML={{ \n                      __html: card.field_short_version ? card.field_short_version.processed : null\n                    }}\n                  />\n                  <Link to={card.link}>Read the article</Link>\n                </PopupCard>\n              }\n            </Row>\n          </OverlayBody>\n        </Overlay>\n\n        <SubthemeTitle>{subtheme.name}</SubthemeTitle>\n         { description }\n\n        <Filters\n          toggleFilter={this.toggleFilter}\n          name={this.props.name}\n          filter={filter}\n          subtheme={subtheme}\n        />\n        <div>\n          {\n            allCards.map( (c, k) => <div key={k}>{c}</div>)\n          }\n        </div>\n      </div>\n    )\n  }\n}\n\n\nconst SubthemeContainer = styled(SubthemeSection)`\n  background-color: rgba(247, 247, 247, 0.97);\n  padding: 45px 30px;\n  border-bottom: solid thin grey;\n  margin: 60px 30px;\n\n`\n\nexport default SubthemeContainer;\n\n","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA2LjUgMTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDYuNSAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMzQjNCM0I7fQo8L3N0eWxlPgo8dGl0bGU+ZG93bjwvdGl0bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik02LjMsMC45YzAuMi0wLjIsMC4zLTAuNSwwLjEtMC43bDAsMEM2LjIsMCw1LjgtMC4xLDUuNywwLjFsMCwwTDAuMSw1LjZDMCw1LjgsMCw2LjEsMC4xLDYuM2wwLDBsMCwwbDUuNSw1LjUKCWMwLjIsMC4yLDAuNSwwLjIsMC43LDBsMCwwYzAuMi0wLjIsMC4yLTAuNSwwLTAuN2wwLDBsLTUuMi01TDYuMywwLjl6Ii8+Cjwvc3ZnPgo=\"","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n"],"sourceRoot":""}