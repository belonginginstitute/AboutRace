{"version":3,"sources":["webpack:///./src/templates/clip.js","webpack:///./src/components/allClips.js","webpack:///./src/components/Title.js","webpack:///./src/components/ThemeCard/SubThemeCard.js","webpack:///./src/components/ThemeCard/index.js","webpack:///./src/components/rccard.js","webpack:///./src/components/Filter.js","webpack:///./src/components/subtheme.js"],"names":["ChosenClipCard","styled_components__WEBPACK_IMPORTED_MODULE_4__","b","div","withConfig","displayName","ChosenClipCaption","Chosen","ChosenClip","_ref","clip","src","link","field_external_video_url","uri","react__WEBPACK_IMPORTED_MODULE_2___default","a","createElement","width","height","frameBorder","allowFullScreen","title","ClipTemplate","_this","_React$Component","call","this","state","render","_this2","data","props","nodeClip","field_re","relationships","className","style","padding","margin","border","onClick","setState","teaching","filter","node","field_include_in_the_teaching_se","map","i","__typename","_components_subtheme__WEBPACK_IMPORTED_MODULE_6__","key","article","relatedContent","c","faq","playable","color","marginLeft","_components_allClips_js__WEBPACK_IMPORTED_MODULE_3__","Component","clipQuery","ClipCard","styled_components__WEBPACK_IMPORTED_MODULE_2__","ClipCaption","ClipPoster","background","Clip","react__WEBPACK_IMPORTED_MODULE_1___default","gatsby__WEBPACK_IMPORTED_MODULE_3__","textDecoration","to","lodash_kebabCase__WEBPACK_IMPORTED_MODULE_4___default","field_poster_image","localFile","publicURL","frameborder","webkitallowfullscreen","mozallowfullscreen","allowfullscreen","__webpack_exports__","_ref2","selected","array","allNodeClip","edges","el","field_episode","parseInt","edge","245","e","t","n","r","Title","styled_components_browser_esm","o","s","p","d","u","Container","Object","Link","SubThemeCard_Title","Description","ThemeCard_SubThemeCard","name","description","value","kebabCase_default","react_default","dangerouslySetInnerHTML","__html","gradient","ThemeCard_Container","backgrounGrayscale","open","ThemeCard_Title","ThemeCard_Description","Chevron","SubThemes","components_ThemeCard","ThemeCard","field_theme_image","childImageSharp","grayscale","processed","window","Image","subthemes","rccard_RCCard","gatsby_browser_entry","slug","type","backgroundImage","imgSrc","backgroundSize","backgroundPosition","children","rccard","FLEX","BASE_CARD_WIDTH","Row","Element","Filter_Title","components_Filter","_this$props","onSelected","react","j","l","w","C","E","N","L","z","269","T","m","f","h","range","__webpack_require__","SubthemeTitle","styled_components__WEBPACK_IMPORTED_MODULE_12__","NUM_CARDS_TO_SHOW","defaultToEmpty","arr","shuffle","temporaryValue","randomIndex","currentIndex","length","Math","floor","random","ArticleTitle","Poster","PlayablePoster","play","react__WEBPACK_IMPORTED_MODULE_11___default","linkable","gatsby__WEBPACK_IMPORTED_MODULE_13__","lodash_kebabCase__WEBPACK_IMPORTED_MODULE_15___default","alt","ArticleCard","_React$Component2","apply","arguments","_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_9___default","prototype","_this$props$style","onOpen","___WEBPACK_IMPORTED_MODULE_14__","assign","field_main_image","changed","field_short_version","marginBottom","field_author","_React$Component3","_this$props2","_this$props2$clip","_this$props2$style","paddingLeft","paddingRight","paddingBottom","FAQCard","_React$Component4","_this$props3","_this$props3$faq","_this$props3$style","display","flexDirection","justifyContent","InterviewCard","_React$Component5","_this$props4","_this$props4$intervie","interview","_this$props4$style","field_interviewee","marginTop","lineHeight","textAlign","fontStyle","field_key_quote","QuickFactCard","_React$Component6","_this$props5","quickfact","_this$props5$style","rest","_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_7___default","field_quickfact","getCards","queryFilter","linkableClip","articles","concat","clips","faqs","interviews","quickfacts","DISPLAY_NAMES_TO_SLUG","Map","FilterButtonStyle","marginRight","fontSize","letterSpacing","FilterButtonStyleActive","fontWeight","borderBottom","Filters","queryParams","subtheme","toggleFilter","mixBlendMode","fontFamily","textTransform","Array","from","keys","itemType","itemTag","filterType","filterSlug","get","float","PopupCard","CloseButton","TopImage","SubthemeSection","_this3","_React$Component7","getShuffle","storedOrder","localStorage","getItem","JSON","parse","setItem","stringify","close","popup","card","updateOrder","numCards","bind","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default","shouldComponentUpdate","nextProps","nextState","componentWillUpdate","order","newArr","_this$state","rawCards","allCards","sort","forEach","item","id","visible","g","k"],"mappings":"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","file":"component---src-templates-clip-js-2d1593d6f7d0ee310d58.js","sourcesContent":["import React from \"react\"\nimport AllClips, { Clip } from '../components/allClips.js'\nimport styled from 'styled-components'\nimport { Link } from 'gatsby'\nimport {\n  getCards,\n  QuickFactCard,\n  FAQCard,\n  ClipCard,\n  ArticleCard\n} from '../components/subtheme'\nimport { graphql } from 'gatsby'\n\nconst ChosenClipCard = styled.div`\n  height: 100%;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: auto;\n  margin-right: 30px;\n`\nconst ChosenClipCaption = styled.div`\n  font-size: 22px;\n  font-weight: 400;\n  line-height:1.25;\n  display: inline-block;\n  padding-bottom: 30px;\n  color:#ffe4c1;\n  letter-spacing: 0.02em;\n`\nconst Chosen = styled.div`\n  background-color:black;\n  height:480px;\n  margin-bottom: 60px;\n  padding: 0px;\n  position: relative;\n  display: flex;\n  align-items: center;\n`\n\nexport const ChosenClip = ({ clip, link }) =>  {\n  const src = `${clip.field_external_video_url && clip.field_external_video_url.uri}?title=0&byline=0&portrait=0`;\n\n  /*\n    webkitAllowFullScreen=\"true\"\n    mozAllowFullScreen=\"true\"\n  */\n\n\treturn (\n\t\t<Chosen>\n\t\t  <ChosenClipCard>\n\t\t\t <iframe \n        width='720px' \n        height='100%' \n        src={src} \n        frameBorder=\"0\" \n        allowFullScreen=\"true\"\n      />\n\t\t\t</ChosenClipCard>\n     <ChosenClipCaption> {clip.title}</ChosenClipCaption>\n\t\t</Chosen>\n\t)\n}\n\nclass ClipTemplate extends React.Component {\n  \n  constructor(){\n    super()\n    this.state = {}\n  }\n\n  render() {\n    const { data } = this.props\n\n    if(!data) return null\n\n    const nodeClip = data ? data.nodeClip : null;\n    const field_re = (nodeClip && nodeClip.relationships.field_re) ? nodeClip.relationships.field_re : []\n\n    return (\n      <div className='darkwrapper'>\n        { nodeClip? <ChosenClip clip={nodeClip} /> : null }\n        <div style={{ padding: 10, margin: 10, border: `1px solid black`}}>\n          <button onClick={() => { this.setState({ teaching: false}) }}>\n            All Content\n          </button>\n          <button onClick={() => { this.setState({ teaching: true}) }}>\n            Teaching\n          </button>\n          {\n            field_re.filter(node => (!this.state.teaching || node.field_include_in_the_teaching_se) )\n            .map((node, i) => {\n                if (node.__typename == `node__article`) {\n                  return (\n                    <ArticleCard\n                      key={`article-${i}`}\n                      i={i}\n                      article={node}\n                      relatedContent\n                    />\n                  )\n                } else if (node.__typename == `node__faq`) {\n                  return (\n                    <FAQCard\n                      key={`faqcard-${i}`}\n                      i={i}\n                      faq={node}\n                    />\n                  )\n                } else if (node.__typename == `node__clip`) {\n                  return (\n                    <ClipCard\n                      key={`clip-${i}`}\n                      i={i}\n                      clip={node}\n                      playable\n                    />\n                  )\n                }\n              }\n            )\n          }\n        </div>\n        <h4 style={{color: '#ffe4c1', marginLeft: 30}}>All Clips</h4>\n        <AllClips data={data}/>\n      </div>\n    )\n  }\n}\n\nexport default ClipTemplate;\n\nexport const clipQuery = graphql`\n  query clipQuery($id: String) {\n    nodeClip(id: { eq: $id }) {\n      ...ClipFragment\n    }\n    allNodeClip {\n      edges {\n        node {\n          ...ClipFragment\n        }\n      }\n    }\n  }\n`","import React from 'react'\nimport styled from 'styled-components'\nimport { Link } from 'gatsby'\nimport kebabCase from 'lodash/kebabCase'\n\nconst ClipCard = styled.div`\n\twidth: 300px;\n\tbackground-color:#292929;\n\tcolor: white;\n\tdisplay:inline-block;\n\tvertical-align: top;\n\tmargin-right:30px;\n\tmargin-bottom: 30px;\n\ttransition: all .3s;\n\tborder-radius: 6px;\n\t&:hover {\n\t  transition: all .3s;\n\t}\n\tcursor: pointer;\n`\nconst ClipCaption = styled.div`\n\tfont-family: 'Lato';\n\tfont-size: 14px;\n\tline-height: 1.5;\n\tfont-weight: 300;\n\tletter-spacing: 0.04em;\n\tpadding: 15px 30px 30px 30px;\n`\nconst ClipPoster = styled.div`\n\theight:200px;\n\twidth:100%;\n\tbackground-color:red;\n\tbackground-size:cover;\n\tbackground-position: center;\n  background-image: ${props => props.background ?  `url(${props.background})` : `none`};\n`\n\nexport const Clip = ({ clip, link }) =>  {\n\treturn (\n\t\t\t<ClipCard>\n\t\t\t\t{\n\t\t\t\t\tlink ?\n\t\t\t\t\t\t<Link style={{color:'inherit', textDecoration:'none'}} to={`/clips/${kebabCase(clip.title)}`}>\n\t\t\t\t\t\t\t<ClipPoster background={clip.relationships.field_poster_image && clip.relationships.field_poster_image.localFile.publicURL} />\n\t\t\t\t\t\t\t<ClipCaption>\n\t\t\t\t\t\t\t\t{clip.title}\n\t\t\t\t\t\t\t</ClipCaption>\n\t\t\t\t\t\t</Link> :\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<iframe title={clip.title} src={`${clip.field_external_video_url && clip.field_external_video_url.uri}?title=0&byline=0&portrait=0`} frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\n\t\t\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t</ClipCard>\n\t\t)\n}\n\n\nconst AllClips = ({ data, selected }) => {\n\tlet array = data.allNodeClip.edges\n\n\tif(selected)\n\t\tarray = array.filter( el => selected === 'all' ? true : el.node.field_episode === parseInt(selected) )\n\t\n\treturn (\n\t  <div style={{padding: '0 30px'}}>\n\t    {\n\t    \tarray.map((edge, i) =>\n\t\t      <Clip key={`clip-${i}`} clip={edge.node} link={true} />\n\t\t    )\n\t\t  }\n\t  </div>\n\t)\n}\n\nexport default AllClips\n\n","import styled from 'styled-components'\n\nexport default styled.div`\n  color: white;\n  text-align: center;\n  font-family: Lato;\n  font-size: 36px;\n  font-weight: 300;\n  letter-spacing: 0.04em;\n  padding-top: 120px;\n  margin-bottom: 75px;\n`;","import React from 'react'\nimport styled from 'styled-components'\nimport kebabCase from 'lodash/kebabCase'\nimport { Link } from '../';\n\nconst Container = styled(Link)`\n  color: white;\n  padding: 1vw;\n  font-family: 'Lato';\n  text-align: center;\n`\n\nconst Title = styled.div`\n  position: relative;\n  font-size: 20pt;\n  line-height: 26px;\n  font-weight: bold;\n  padding-bottom: 1vh;\n\n  &:after {\n    content: \"\\00a0\\00a0\";\n    position: absolute;\n    bottom: -.25vh;\n    left: calc(50% - 50px);\n    width: 100px;\n    height: 1px;\n    border-bottom: 2px solid #D83C46;\n  }\n`\n\nconst Description = styled.div`\n  font-family: 'Tisa Pro';\n  font-size: 16pt;\n  padding-top: 1vh;\n  padding-bottom: 1vh;\n`\n\nclass SubThemeCard extends React.Component {\n  render() {\n    const {data} = this.props;\n    const title = data.name;\n    const description = data.description ? data.description.value : '';\n    const link = `/subthemes/${kebabCase(title)}`\n\n    return (\n      <Container to={link}>\n        <Title>{title}</Title>\n        <Description dangerouslySetInnerHTML={{ __html: description }} />\n      </Container>\n    )\n  }\n}\n\nexport default SubThemeCard\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport SubThemeCard from './SubThemeCard'\n\nconst gradient = `linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(1,1,2,0.64) 25%,rgba(1,1,2,1) 100%)`\n\nconst Container = styled.div`\n  border-radius: 45;\n  width: 90%;\n  margin-left: 5%;\n  margin-bottom: 60px;\n  margin-right: 0;\n  display: inline-block;\n  vertical-align: top;\n  position: relative;\n  overflow: hidden;\n  box-shadow: rgba(39, 39, 39, 0.58) 0px 3px 57px 0px;\n  user-select: none;\n  border-radius: 60px;\n  color: white;\n  \n  background-size: cover !important;\n  background-attachment: fixed;\n  transition: all .5s ease;\n\n  &:hover {\n    background-size: 125% auto !important;\n    transition: all .5s ease;\n    background: ${ props => props.background ? `url(${props.background}) center no-repeat` : `none`};\n    background: ${ props => props.background ? `${gradient}, url(${props.background}) center no-repeat` : `none`};\n  }\n\n  background: ${ props => props.background ? `url(${props.background}) center no-repeat` : `none`};\n  background: ${ props => props.backgrounGrayscale ? `url(${props.backgrounGrayscale}) center no-repeat` : `none`};\n  background: ${ props => props.backgrounGrayscale ? `${gradient}, url(${props.backgrounGrayscale}) center no-repeat` : `none`}; \n\n  height: ${props => props.open ? '100vh' : '60vh'};\n`;\n\nconst Title = styled.div`\n  font-family: Lato;\n  font-size: 48px;\n  line-height: 1;\n  text-align: left;\n  letter-spacing: 0.011em;\n  padding-top: 30vh;\n  padding-bottom: 5vh;\n  text-align: center;\n`;\n\nconst Description = styled.div`\n  font-family: Lato;\n  text-align: center;\n  padding-left: 10vw;\n  padding-right: 10vw;\n`;\n\nconst Chevron = styled.div`\n  cursor: pointer;\n  position: absolute;\n  right: 1vw;\n  top: 30vh;\n  font-family: 'Lato';\n  font-size: 100px;\n  color: white;\n\n  transform: ${ props => props.open ? 'rotate(90deg)' : 'none'};\n`\n\nconst SubThemes = styled.div`\n  display: grid;\n  grid-template-columns: 30vw 30vw 30vw;\n  /*grid-template-rows: 40vh 40vh;*/\n`\n\nclass ThemeCard extends React.Component {\n  constructor(props) {\n    super(props);\n  \n    this.state = {\n      open: false\n    };\n  }\n\n  render() {\n    const { open } = this.state;\n    const { data } = this.props\n    const background = data.relationships.field_theme_image && data.relationships.field_theme_image.localFile.publicURL\n    let backgrounGrayscale = '';\n\n    try{\n      backgrounGrayscale = data.relationships.field_theme_image.localFile.childImageSharp.grayscale.src;\n    }catch(e){\n      backgrounGrayscale = background\n    }\n\n    const description = data.description && data.description.processed\n\n    //preloading images for smoother effect\n    if(typeof window !== 'undefined'){\n      let img = new window.Image();\n      img.src = background;\n    }\n    \n    const { subthemes } = data.relationships;\n\n    return (\n      <Container\n        open={open}\n        background={background}\n        backgrounGrayscale={backgrounGrayscale}\n        onClick={() => this.setState({open: !open})}\n      >\n        <Title>{data.name}</Title>\n        <Description dangerouslySetInnerHTML={{ __html: description }} />\n        <Chevron open={open}>〉</Chevron>\n        {\n          <SubThemes>\n            {\n              open && subthemes.map( (data, key) => <SubThemeCard key={key} data={data} />)\n            }\n          </SubThemes>\n        }\n      </Container>\n    )\n  }\n}\n\nexport default ThemeCard\n","import React from \"react\"\nimport { Link } from 'gatsby'\nimport kebabCase from 'lodash/kebabCase'\nimport styled, { css } from 'styled-components';\n\nclass RCCard extends React.Component {\n    render() {\n        return (\n        <Link to={`/${this.props.slug}s/${kebabCase(this.props.title)}`} className={this.props.className} style={this.props.style}>\n            {this.props.type ?\n            <h4>{this.props.type}</h4> :\n            null }\n            <div className={'RCimage'} style={{\n              backgroundImage: `url(${this.props.imgSrc})`,\n              backgroundSize: 'cover',\n              backgroundPosition: 'center'\n            }}>\n            </div>\n            <p>{this.props.title}</p>\n\n            {this.props.children}\n        </Link>\n        )\n    }\n}\n\nconst BASE_CARD_WIDTH = 350;\nconst FLEX = 100;\nconst MAX_WIDTH_CONSTANT = .7;\nconst ARTICLE_MULTIPLIER = 1.5;\nconst QUICK_FACT_MULTIPLIER = 1.5;\n\nconst StyledRCCard = styled(RCCard)`\n  display: inline-block;\n  height: auto;\n  flex: ${FLEX} ${FLEX} ${BASE_CARD_WIDTH}px;\n  border: solid thin lightgrey;\n  background-color: #f7f7f7;\n  -webkit-box-shadow: 0px 2px 15px 0px rgba(179,179,179,0.38);\n  -moz-box-shadow: 0px 2px 15px 0px rgba(179,179,179,0.38);\n  box-shadow: 0px 2px 15px 0px rgba(179,179,179,0.38);\n  margin-bottom: 20px;\n  font-family: \"ff-tisa-web-pro\";\n  vertical-align: top;\n  text-align: left;\n  margin-left: 10px;\n  margin-right: 10px;\n  max-width: ${BASE_CARD_WIDTH * MAX_WIDTH_CONSTANT}px\n\n  // Link styling\n  color: inherit;\n  text-decoration: inherit;\n\n  ${props => props.background && css`\n    background-image: url('${props.background}');\n    background-size: cover;\n  `}\n  \n  ${props => props.type === `Article` && css`\n    flex: ${FLEX * ARTICLE_MULTIPLIER} ${FLEX * ARTICLE_MULTIPLIER} ${BASE_CARD_WIDTH * ARTICLE_MULTIPLIER}px;\n    max-width: ${BASE_CARD_WIDTH * MAX_WIDTH_CONSTANT * ARTICLE_MULTIPLIER}px;\n  `}\n\n  ${props => props.type === `QuickFact` && css`\n    flex: ${FLEX * QUICK_FACT_MULTIPLIER} ${FLEX * QUICK_FACT_MULTIPLIER} ${BASE_CARD_WIDTH * QUICK_FACT_MULTIPLIER}px;\n    max-width: ${BASE_CARD_WIDTH * MAX_WIDTH_CONSTANT * QUICK_FACT_MULTIPLIER}px;\n  `}\n`;\n\nexport default StyledRCCard;\n\n","import React, { Component } from 'react'\nimport styled from 'styled-components'\n\nconst Row = styled.div`\n  display: flex;\n  flex-direction: row;\n  padding: 10px;\n  color: ${props => props.color ? props.color : `white`};\n`\n\nconst Element = styled.div`\n  cursor: pointer;\n  margin-left: 10px;\n  font-weight: ${props => props.selected ?  `bold` : `normal`};\n`\n\nconst Title = styled.div`\n  text-decoration: underline;\n`\n\nclass Filter extends Component {\n  render() {\n    const {selected, onSelected, color} = this.props;\n    return (\n      <Row color={color}>\n        Sort by:&nbsp;\n        <Element\n          selected={selected === 'all'}\n          onClick={() => onSelected('all')}\n        >\n          All\n        </Element>\n        <Element\n          selected={selected === '1'}\n          onClick={() => onSelected('1')}\n        >\n          <Title>Episode One:</Title> The Difference Between Us\n        </Element>\n        <Element\n          selected={selected === '2'}\n          onClick={() => onSelected('2')}\n        >\n          <Title>Episode Two:</Title> The Story We Tell\n        </Element>\n        <Element\n          selected={selected === '3'}\n          onClick={() => onSelected('3')}\n        >\n          <Title>Episode Three:</Title> The House We Live In\n        </Element>\n      </Row>\n    )\n  }\n}///\n\nexport default Filter;\n","import React from \"react\"\nimport styled from 'styled-components';\nimport { Link } from 'gatsby'\nimport { \n  Card,\n  RCCard,\n  Overlay, \n  OverlayBody \n} from './'\nimport kebabCase from 'lodash/kebabCase'\n\nconst range = require('range');\nconst FlipMove = require('react-flip-move');\n\nconst SubthemeTitle = styled.div`\n  font-weight: normal;\n  text-rendering: optimizeLegibility;\n  font-size: 42px;\n  font-weight:300;\n  padding: 15px;\n  font-family: 'Lato';\n  text-align: center;\n  color: rgba(59, 59, 59, 0.8);\n  margin-bottom: 15px;\n  margin-top: 15px;\n`\nconst NUM_CARDS_TO_SHOW = 3;\n\nconst defaultToEmpty = arr => (arr ? arr : [])\n\nconst shuffle = (arr) => {\n  var currentIndex = arr.length, temporaryValue, randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = arr[currentIndex];\n    arr[currentIndex] = arr[randomIndex];\n    arr[randomIndex] = temporaryValue;\n  }\n\n  return arr;\n}\n \nconst reorder = (arr, order) => {\n  const newArr = new Array(arr.length);\n  order && order.forEach((item, i) => {\n    newArr[i] = arr[item];\n  })\n  return newArr;\n}\n\nconst ArticleTitle = styled.div`\n  font-family: 'Lato';\n  font-size:30px;\n  font-weight: 400;\n  color: #2b2b2b;\n  letter-spacing: 0.03em;\n  padding: 0px 30px 0 0px;\n  line-height:1.25;\n  margin-bottom: 15px;\n`\n\nconst Poster = styled.div`\n  width: 100%;\n  height: 66%;\n  background-color: grey;\n  margin-bottom: 15px;\n  overflow: hidden;\n`\n\nclass PlayablePoster extends React.Component {\n  constructor(props){\n    super(props)\n    this.state = {}\n  }\n  render() {\n    if (!this.props.clip.relationships.field_poster_image) {\n      return (\n        <Poster />\n      );\n    }\n\n    if (this.state.play) {\n      return (\n        <Poster>\n          <iframe title='player' src=\"https://player.vimeo.com/video/18769983?title=0&byline=0&portrait=0\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\n        </Poster>\n      )\n    }\n\n    if (this.props.linkable) {\n      return (\n        <Link to={`../clips/${kebabCase(this.props.clip.title)}`}>\n          <Poster>\n            <img alt='poster image' src={this.props.clip.relationships.field_poster_image.localFile.publicURL} />\n          </Poster>\n        </Link>\n      )\n    }\n    return (\n      <Poster onClick={() => this.setState({ play: true })}>\n        <img alt='another image' src={this.props.clip.relationships.field_poster_image.localFile.publicURL} />\n      </Poster>\n    );\n  }\n}\n\nexport class ArticleCard extends React.Component {\n  render() {\n    const { article, i, relatedContent, style = {}, onOpen } = this.props\n    const link = `/articles/${kebabCase(article.title)}` \n    return (\n      relatedContent ?\n        <RCCard style={{...style, padding:30}} key={`article-${i}`} article={article} imgSrc={article.relationships.field_main_image && article.relationships.field_main_image.localFile && article.relationships.field_main_image.localFile.publicURL } title={article.title} type=\"Article\" slug=\"article\" changed={article.changed}>\n        {article.field_short_version && (\n          <p className={'RCcard-large-text'} dangerouslySetInnerHTML={{ __html: article.field_short_version.processed }} />\n        )}\n        </RCCard> :\n        <Card\n          style={{...style, padding:0}}\n          key={`article-${i}`}\n          title={article.title}\n          type=\"Article\"\n          slug=\"article\"\n          changed={article.changed}\n          onClick={ () => onOpen(link)}\n        >\n        <div className='articleCardImage' style={{ backgroundImage: article.relationships.field_main_image ? `url(${article.relationships.field_main_image.localFile.publicURL})` : null}}/>\n        {article.field_short_version && (\n          <div style={{padding: 30}}>\n            <h4 style={{marginBottom:15}}>Article by {article.field_author && article.field_author.processed}</h4>\n            {/* { article.field_author && <h6 style={{textAlign:'right', marginBottom:7.5, fontSize:14}} dangerouslySetInnerHTML={{ __html: article.field_author.processed}}/>} */}\n            <ArticleTitle>{article.title}</ArticleTitle>\n            \"<span className={'card-large-text'} dangerouslySetInnerHTML={{ __html: article.field_short_version.processed }} />\n             \n            \n           \n          </div>\n        )}\n        </Card>\n    )\n  }\n}\n\nexport class ClipCard extends React.Component {\n  render() {\n    const { clip = { relationships: {} }, i, relatedContent, linkable, style = {} } = this.props\n    return (\n      relatedContent ?\n      <RCCard key={`clip-${i}`} title={clip.title} slug=\"clip\" changed={clip.changed} style={style}>\n        <PlayablePoster\n          clip={clip}\n          linkable={linkable}\n        />\n        <p style={{paddingLeft:30, paddingRight:30, paddingBottom: 20}} className={'caption'}>{clip.title}</p>\n      </RCCard> :\n      // background={clip.relationships.field_poster_image && clip.relationships.field_poster_image.localFile.publicURL}\n      <Card key={`clip-${i}`} title={clip.title} type=\"Clip\" slug=\"clip\" style={style} changed={clip.changed} link={`/clips/${kebabCase(clip.title)}`}>\n        <PlayablePoster\n          clip={clip}\n        />\n        <p style={{paddingLeft:30, paddingRight:30, paddingBottom: 20}} className={'caption'}>{clip.title}</p>\n      </Card>\n    )\n  }\n}\n\nexport class FAQCard extends React.Component {\n  render() {\n    const { \n      faq = {},\n      i,\n      // relatedContent,\n      style = {} \n    } = this.props\n    return (\n      <Card\n        style={{\n          ...style, \n          padding:30, \n          display:'flex', \n          flexDirection: 'column', \n          justifyContent:'center'\n        }}\n        key={`faq-${i}`}\n        slug=\"faq\"\n        changed={faq.changed}\n        type=\"FAQ\" \n        link={`/qa/${kebabCase(faq.title)}`}>\n        <h4 style={{marginBottom:15}}>Q&A</h4>\n        <p className='card-large-text'>{faq.title}</p>\n      </Card>\n    )\n  }\n}\n\nexport class InterviewCard extends React.Component {\n  render() {\n    const { interview = {}, i, relatedContent, style = {}, onOpen } = this.props\n    const link = `/interviews/${kebabCase(interview.title)}` \n    return (\n      <Card\n        style={{\n          ...style, \n          padding:30, display:'flex', \n          flexDirection: 'column', \n          justifyContent:'center'\n        }}\n        key={`interview-${i}`}\n        type=\"Interview\"\n        title={interview.title}\n        slug=\"interview\"\n        changed={interview.changed}\n        onClick={ () => onOpen(link)}\n      >\n        <div className=\"interviewCardPhoto\" style={{backgroundImage: interview.relationships.field_interviewee ? `url(${interview.relationships.field_interviewee.localFile.publicURL})` : null }}/>\n        {/* <h4 style={{marginBottom:15}}>Interview with </h4> */}\n        <h4 style={{marginTop:15, marginBottom:15, lineHeight:1.5, textAlign:'center'}}>{interview.title}</h4>\n        <p style={{fontStyle:'italic', textAlign:'center'}} className={'card-large-text'}>{interview.field_key_quote.processed}</p>\n      </Card>\n    )\n  }\n}\n\nexport class QuickFactCard extends React.Component {\n  render() {\n    const { quickfact, i, relatedContent, style = {}, ...rest } = this.props\n    return (\n      <Card {...rest} key={`quickfact-${i}`} type=\"QuickFact\" title={quickfact.title} slug=\"quickfact\" changed={quickfact.changed} style={{ ...style, padding:15}}>\n        <h4>{quickfact.title}</h4>\n        <div\n          dangerouslySetInnerHTML={{\n            __html: quickfact.field_quickfact.processed,\n          }}\n        />\n      </Card>\n    )\n  }\n}\n\nexport const getCards = (relationships, queryFilter, relatedContent, linkableClip, onOpen) => {\n  if(!onOpen)\n    onOpen = link => {}\n\n  return [\n    ...defaultToEmpty(relationships.articles).filter(article => !queryFilter || queryFilter === `recent` || queryFilter === `article`).map((article, i) => (<ArticleCard key={`article-${article.title}`} onOpen={ link => onOpen(link, article) } article={article} i={i} relatedContent={relatedContent} />)),\n    ...defaultToEmpty(relationships.clips).filter(clip => !queryFilter || queryFilter === `recent` || queryFilter === `clip`).map((clip, i) => (<ClipCard key={`clip-${clip.title}`} linkable={linkableClip} clip={clip} i={i} relatedContent={relatedContent} />)),\n    ...defaultToEmpty(relationships.faqs).filter(faq => !queryFilter || queryFilter === `recent` || queryFilter === `faq`).map((faq, i) => (<FAQCard key={`faq-${faq.title}`} faq={faq} i={i} relatedContent={relatedContent} />)),\n    ...defaultToEmpty(relationships.interviews).filter(interview => !queryFilter || queryFilter === `recent` || queryFilter === `interview`).map((interview, i) => (<InterviewCard key={`interview-${interview.title}`} onOpen={ link => onOpen(link, interview) } interview={interview} i={i} relatedContent={relatedContent} />)),\n    ...defaultToEmpty(relationships.quickfacts).filter(quickfact => !queryFilter || queryFilter === `recent` || queryFilter === `quickfact`).map((quickfact, i) => (<QuickFactCard key={`quickfact-${quickfact.title}`} quickfact={quickfact} i={i} relatedContent={relatedContent} />)),\n  ]\n}\n\nconst DISPLAY_NAMES_TO_SLUG = new Map([\n  [`articles`, `article`],\n  [`interviews`, `interview`],\n  [`faqs`, `faq`],\n  [`clips`, `clip`],\n  [`recently added`, `recent`]\n])\n\nconst itemExists = (itemTag, parent) => {\n  return parent.relationships[itemTag]\n\n}\n\nconst FilterButtonStyle = {\n  color: `rgb(255, 132, 0)`,\n  marginRight: 15,\n  marginBottom: 15,\n  fontSize:14,\n  letterSpacing:'0.125em',\n}\n\nconst FilterButtonStyleActive = {\n  ...FilterButtonStyle,\n  fontWeight: `700`,\n  borderBottom: `solid 2px hotpink`,\n}\n\nconst Filters = ({ queryParams, name, filter, subtheme, toggleFilter }) => (\n  <div style={{\n    mixBlendMode:'normal',\n    textAlign: 'center',\n    marginBottom: 15\n  }}\n    >\n    <span style={{\n            marginRight: 15,\n            fontFamily: 'Lato',\n            fontWeight:700,\n            fontSize: 14,\n            letterSpacing: '0.2em',\n            textTransform: 'uppercase',\n            color:'hotpink'\n          }}\n          >Sort by: </span>\n          <button onClick={() => {\n            toggleFilter(null)\n          }}\n          style={\n            (!filter ? FilterButtonStyleActive : FilterButtonStyle)\n          }>\n            All\n          </button>\n    {\n      Array.from(DISPLAY_NAMES_TO_SLUG.keys()).filter(itemType => (itemType === `recently added` || itemExists(itemType, subtheme))).map(filterType => {\n        const filterSlug = DISPLAY_NAMES_TO_SLUG.get(filterType)\n\n        return (\n          <button\n            key={filterType}\n            onClick={() => {\n              toggleFilter(filterSlug)\n            }}\n            style={{\n              ...(filter === filterSlug ? FilterButtonStyleActive : FilterButtonStyle),\n              float: 'none',\n              fontWeight:700, letterSpacing:'0.2em', color:'hotpink'\n            }}\n          >\n            {filterType}\n          </button>\n      )})\n    }\n  </div>\n)\n\nconst Row = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n`\n\nconst PopupCard = styled.div`\n  position: relative;\n  width: 33vw;\n  height: 33vw;\n  min-width: 300px;\n  min-height: 300px;\n  background-color: gray;\n  border-radius: 100px;\n  border: 1px solid grey;\n  overflow: hidden;\n`\n\nconst CloseButton = styled.div`\n  cursor: pointer;\n  position: absolute;\n  top: 30px;\n  right: 30px;\n`\n\nconst TopImage = styled.div`\n  height:50%;\n  width:100%;\n  background-color:red;\n  background-size:cover;\n  background-position: center;\n  background-image: ${props => props.background ?  `url(${props.background})` : `none`};\n`\n\nconst Description = styled.div`\n`\n\nclass SubthemeSection extends React.Component {\n\n  constructor(props){\n    super(props)\n\n    this.updateOrder(props, null)\n\n    this.state = { \n      numCards: NUM_CARDS_TO_SHOW,\n      filter: null,\n      popup: false,\n      card: null\n    }\n\n    this.close = this.close.bind(this)\n    this.open = this.open.bind(this)\n    this.toggleFilter = this.toggleFilter.bind(this)\n  }\n\n  toggleFilter(value) {\n    if (this.state.filter === value) {\n      this.setState({filter: null})\n    } else {\n      this.setState({filter: value})\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return (\n      // nextProps.filter !== this.props.filter ||\n      nextState.numCards !== this.state.numCards ||\n      nextState.filter !== this.state.filter ||\n      nextState.popup !== this.state.popup\n    );\n  }\n\n  componentWillUpdate(nextProps, nextState) {\n    if (this.state.filter !== nextState.filter) {\n      // this.updateOrder(nextProps, nextState.filter)\n    }\n  }\n\n  getShuffle = length => {\n    // weird Gatsby hack\n    const isBrowser = typeof window !== 'undefined';\n    if (!isBrowser) return;\n\n    let storedOrder = window.localStorage.getItem('shuffle');\n    if(storedOrder){\n      storedOrder = JSON.parse(storedOrder)\n    }else{\n      storedOrder = shuffle(range.range(length))\n      window.localStorage.setItem('shuffle', JSON.stringify(storedOrder));\n    }\n\n    return storedOrder\n  }\n\n  updateOrder(props, filter) {\n    if (props.filter) return;\n    const length = getCards(props.data.relationships, filter).length;\n    this.order = this.getShuffle(length)\n  }\n\n  close = () => {\n    this.setState({\n      popup: !this.state.popup,\n      card: null\n    })\n  }\n\n  open = (link, data) => {\n    this.setState({\n      popup: true,\n      card: {...data, link}\n    })\n  }\n\n  render() {\n    const subtheme = this.props.data\n\n    // TODO (Conrad): Create custom card component for each type of data (article, clip, faq, etc)\n\n    const { filter, popup, card } = this.state;\n\n    const rawCards = getCards(subtheme.relationships, filter, null, true, this.open)\n\n    const allCards = filter ?\n      rawCards.sort((a, b) => (b.props.changed - a.props.changed)) :\n      reorder(rawCards, this.order)\n\n    const description = subtheme.description\n      ? <div\n            className={'subtheme-description'}\n            key=\"description\"\n            dangerouslySetInnerHTML={{ __html: subtheme.description.processed }}\n          />\n      : null\n\n    return (\n      <div>\n        <Overlay id=\"subtheme-overlay\" visible={popup}>\n          <OverlayBody>\n            <Row>\n              { \n                card && <PopupCard>\n                  <CloseButton onClick={this.close}>Close</CloseButton>\n                  <TopImage background={card.relationships.field_main_image && card.relationships.field_main_image.localFile.publicURL} />\n                  <h1>{card.title}</h1>\n                  <Description\n                    dangerouslySetInnerHTML={{ \n                      __html: card.field_short_version ? card.field_short_version.processed : null\n                    }}\n                  />\n                  <Link to={card.link}>Read the article</Link>\n                </PopupCard>\n              }\n            </Row>\n          </OverlayBody>\n        </Overlay>\n\n        <SubthemeTitle>{subtheme.name}</SubthemeTitle>\n         { description }\n\n        <Filters\n          toggleFilter={this.toggleFilter}\n          name={this.props.name}\n          filter={filter}\n          subtheme={subtheme}\n        />\n        <div>\n          {\n            allCards.map( (c, k) => <div key={k}>{c}</div>)\n          }\n        </div>\n      </div>\n    )\n  }\n}\n\n\nconst SubthemeContainer = styled(SubthemeSection)`\n  background-color: rgba(247, 247, 247, 0.97);\n  padding: 45px 30px;\n  border-bottom: solid thin grey;\n  margin: 60px 30px;\n\n`\n\nexport default SubthemeContainer;\n\n"],"sourceRoot":""}